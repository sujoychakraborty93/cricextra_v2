(window.webpackJsonpcricextra=window.webpackJsonpcricextra||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var l=a(0),s=a.n(l),n=a(26),i=a.n(n),r=(a(97),a(98),a(99),a(79)),m=a(7),o=a(8),c=a(10),d=a(9),u=a(11),h=a(33),p=a(140),g=a(141),E=a(143),f=a(144),v=a(145),y=a(146),N=a(166),D=a(147),M=a(148),S=a(149),b=a(142),C=a(164),k=a(87),I=a(150),w=a(80),q=a.n(w),L=a(13),_=a(4),T=a.n(_),O=a(57),P=a.n(O),R=a(81),A=new(function(){function e(){var t=this;Object(m.a)(this,e),this.authenticate=Object(R.a)(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/get/authenticate",{withCredentials:!0});case 2:return(a=e.sent).data&&""!==a.data.data&&void 0!==a.data&&t.setTrue(),e.abrupt("return",t.authenticated);case 5:case"end":return e.stop()}}),e)}))),this.authenticated=!1,this.red=this.authenticate()}return Object(o.a)(e,[{key:"setTrue",value:function(){this.authenticated=!0,localStorage.setItem("loggedIn",!0),sessionStorage.setItem("loggedIn",!0)}},{key:"setFalse",value:function(){this.authenticated=!1,localStorage.setItem("loggedIn",!1),sessionStorage.setItem("loggedIn",!1)}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggleNavbar=function(){a.setState({navbarOpen:!a.state.navbarOpen})},a.logout=function(){T.a.get("/api/get/logout",{withCredentials:!0}).then((function(e){A.setFalse(),a.props.history.replace("/login")}))},a.state={navbarOpen:!1,userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,{color:"dark",dark:!0,expand:"md",fixed:"top"},s.a.createElement(g.a,{href:"/home"},s.a.createElement(b.a,{src:q.a,alt:"CRICEXTRA",roundedCircle:!0,height:"50px",width:"50px"})),s.a.createElement(E.a,{onClick:this.toggleNavbar}),s.a.createElement(f.a,{isOpen:this.state.navbarOpen,navbar:!0},s.a.createElement(v.a,{className:"mr-auto",navbar:!0},s.a.createElement(y.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/home",state:{userEmail:this.state.userEmail}},exact:!0},"Home")),s.a.createElement(N.a,{nav:!0,inNavbar:!0},s.a.createElement(D.a,{nav:!0,caret:!0},"Schedule"),s.a.createElement(M.a,{right:!0},s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/allMatchSchedule",state:{userEmail:this.state.userEmail}},exact:!0},"All Matches")),s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/myTeamSchedule",state:{userEmail:this.state.userEmail}},exact:!0},"My Team Matches")))),s.a.createElement(y.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/teamsList",state:{userEmail:this.state.userEmail}}},"Teams")),s.a.createElement(y.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/venuesList",state:{userEmail:this.state.userEmail}}},"Venues")),s.a.createElement(N.a,{nav:!0,inNavbar:!0},s.a.createElement(D.a,{nav:!0,caret:!0},"Requests"),s.a.createElement(M.a,{right:!0},s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/requestOverview",state:{userEmail:this.state.userEmail}},exact:!0},"Requests Overview")),s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/allRequest",state:{userEmail:this.state.userEmail}},exact:!0},"All Requests")),s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/myRequest",state:{userEmail:this.state.userEmail}},exact:!0},"My Requests")),s.a.createElement(S.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/submitRequest",state:{userEmail:this.state.userEmail}},exact:!0},"Submit Request")))),s.a.createElement(y.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/umpiresList",state:{userEmail:this.state.userEmail}}},"Umpires")),s.a.createElement(y.a,null,s.a.createElement(L.b,{className:"nav-link",activeClassName:"active",to:{pathname:"/playersList/",state:{userEmail:this.state.userEmail}}},"Players"))),s.a.createElement(C.a,{inline:!0},s.a.createElement(k.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),s.a.createElement(I.a,{variant:"outline-info"},"Search")),s.a.createElement(I.a,{variant:"outline-info",className:"ml-2",onClick:this.logout},"Profile"),s.a.createElement(I.a,{variant:"outline-info",className:"ml-2",onClick:this.logout},"Logout")))}}]),t}(l.Component),H=Object(h.g)(j),x=a(163),V=a(162),U=a(40),F=a(41),z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(x.a,{bg:"dark",variant:"dark",className:"jumbotron"},s.a.createElement("div",{className:"navFoot navFootGroup"},s.a.createElement(V.a.Link,{href:"/"},"Our Team"),s.a.createElement(V.a.Link,{href:"/"},"About Us"),s.a.createElement(V.a.Link,{href:"/"},"Contact Us")),s.a.createElement("div",{className:"navFootGroup"},s.a.createElement(U.a,{icon:F.a,className:"iconCls"}),s.a.createElement(U.a,{icon:F.b,className:"iconCls"}),s.a.createElement(U.a,{icon:F.e,className:"iconCls"}),s.a.createElement(U.a,{icon:F.d,className:"iconCls"}),s.a.createElement(U.a,{icon:F.c,className:"iconCls"})))}}]),t}(l.Component),B=a(151),Q=a(152),Z=a(153),$=a(154),K=a(155),J=a(86),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnChange=function(e){e.preventDefault(),console.log(e.target.value);var t=e.target,l=t.name,s=t.value,n=a.state.addRequest;n[l]=s,a.setState({addRequest:n})},a.validate=function(e){var t="";return e.title&&""!==e.title||(t="please provide a title"),!t||(a.setState({titleErrMsg:t}),!1)},a.state={userEmail:a.props.userEmail,header:"Submit Requests",msg:"",addRequest:{title:"",requestTemplateId:null,description:"",requestorId:null,requestStatusId:null,sportType:"",address:"",venueId:"",date:"",time:"",matchId:null,created:"",lastModified:""},requestDetails:[],myRequestDetails:[],requestTemplateList:[],sportTypeList:[],requestCommentList:[],requestStatusList:[],user:[],cityList:[],zipList:[],countryStateList:[],countryList:[],matchList:[],titleErrMsg:"",addMsg:"Added successfully",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addRequest",value:function(){var e=this;console.log("user is in addrequest ",this.state.user);var t=this.state.addRequest,a=this.state.requestTemplateList.filter((function(e){return e.request_template===t.title}));a.length>0&&(t.requestTemplateId=a[0].id),t.requestTemplateId=Number(t.requestTemplateId),t.requestorId=this.state.user[0].id,t.requestorId=Number(t.requestorId),t.requestStatusId=1,"--Select--"===t.matchId&&(t.matchId=null);var l=(new Date).toUTCString();t.created=l,t.lastModified=l,this.setState({addRequest:t}),T.a.post("/api/post/newrequest",this.state.addRequest).then((function(t){return e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),e.props.history.push({pathname:"/myRequest",state:{userEmail:e.state.userEmail,msg:"request submitted successfully"}})})).catch((function(t){e.setState({msg:e.state.errMsg+t})}))}},{key:"resetForm",value:function(){document.getElementById("formId").reset()}},{key:"submitForm",value:function(){return s.a.createElement(Q.a,{id:"formId"},s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"titleId"},"Title"),s.a.createElement(K.a,{type:"text",name:"title",id:"titleId",list:"requesttemplate",onChange:this.handleOnChange}),s.a.createElement("datalist",{id:"requesttemplate"},this.state.requestTemplateList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.request_template},e.request_template)}))),s.a.createElement("p",{className:"validationMsg"},this.state.titleErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"descriptionId"},"Description"),s.a.createElement(K.a,{type:"textarea",name:"description",id:"descriptionId",placeholder:"Description",onChange:this.handleOnChange})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"sporttypedid"},"Sport"),s.a.createElement(K.a,{type:"text",name:"sportType",id:"sporttypedid",placeholder:"sport type",list:"sporttype",onChange:this.handleOnChange}),s.a.createElement("datalist",{id:"sporttype"},this.state.sportTypeList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.sport_type})})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"addressid"},"Address"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. deer valley community park)"),s.a.createElement(K.a,{type:"text",name:"address",id:"addressid",placeholder:"Address",onChange:this.handleOnChange})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"dateId"},"Date"),s.a.createElement(K.a,{type:"date",name:"date",id:"dateId",placeholder:"date placeholder",onChange:this.handleOnChange}),s.a.createElement("p",{className:"validationMsg"},this.state.dateErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"timeId"},"Time"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. 6pm/6-7pm/around 6-6:30pm/etc.)"),s.a.createElement(K.a,{type:"text",name:"time",id:"timeId",placeholder:"time placeholder",onChange:this.handleOnChange})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"matchid"},"Match reference"," "),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. refer a match for which you need umpire - if you have one)"),s.a.createElement(K.a,{type:"select",name:"matchId",id:"matchid",onChange:this.handleOnChange},s.a.createElement("option",{key:"0"},"--Select--"),this.state.matchList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.id)})))),s.a.createElement(J.a,{color:"primary",onClick:this.addRequest.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.resetForm.bind(this)},"Reset"))}},{key:"onlyUnique",value:function(e,t,a){return a.indexOf(e)===t}},{key:"componentDidMount",value:function(){var e=this;T.a.get("/api/get/requestlist").then((function(t){e.setState({requestDetails:t.data,myRequestDetails:t.data.filter((function(t){return t.email_id===e.state.userEmail}))})})),T.a.get("/api/get/requesttemplatelist").then((function(t){e.setState({requestTemplateList:t.data})})),T.a.get("/api/get/sporttypelist").then((function(t){e.setState({sportTypeList:t.data})})),T.a.get("/api/get/requestcommentlist").then((function(t){e.setState({requestCommentList:t.data})})),T.a.get("/api/get/requeststatuslist").then((function(t){e.setState({requestStatusList:t.data})})),console.log("useremail is in component did update ",this.state.userEmail),T.a.get("/api/get/player/",{params:{email_id:this.state.userEmail}}).then((function(t){e.setState({user:t.data}),console.log("user fetched from database is ",t.data)})),T.a.get("/api/get/allmatches",{withCredentials:!0}).then((function(t){e.setState({matchList:t.data})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),this.submitForm())}}]),t}(l.Component),X=Object(h.g)(G),W=a(156),Y=a(157),ee=a(32),te=a.n(ee);var ae=T.a.get("/api/get/requestlist").then((function(e){return e.data}));var le=T.a.get("/api/get/allmatches").then((function(e){return e.data}));var se=a(51),ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOnChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.addCommentData;n[l]=s,a.setState({addCommentData:n})},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.state={userEmail:a.props.userEmail,msg:a.props.msg?a.props.msg:"",header:"All Requests",addCommentData:{requestId:"",comment:"",userId:"",created:"",lastModified:""},addToCommentList:{id:null,request_id:null,comment:"",user_id:null,full_name:"",email_id:"",created:"",last_modified:""},requestDetails:[],myRequestDetails:[],user:[],commentList:[],userImageDataList:[],addMsg:"comment added!",errMsg:"error while adding added!"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"dateConvert",value:function(e){var t=new Date(e);return(new Date).toDateString()===t.toDateString()?t.toLocaleTimeString().slice(0,4)+" "+t.toLocaleTimeString().split(" ")[1]:t.toDateString().split(" ")[1]+" "+t.toDateString().split(" ")[2]}},{key:"add",value:function(e){var t=this,a=this.state.addCommentData;if(a.comment.length>0){a.requestId=e,a.userId=this.state.user[0].id;var l=(new Date).toUTCString();a.created=l,a.lastModified=l;var s=this.state.addToCommentList,n=this.state.commentList;s.id=this.state.commentList[this.state.commentList.length-1].id+1,s.request_id=e,s.comment=a.comment,s.user_id=this.state.user[0].id,s.full_name=this.state.user[0].full_name,s.email_id=this.state.user[0].email_id,s.created=l,s.last_modified=l,n.push(s),this.setState({addCommentData:a,addToCommentList:s,commentList:n}),T.a.post("/api/post/newcomment",this.state.addCommentData).then((function(a){return t.setState({msg:200===a.status?t.state.addMsg:"status code "+a.status+"\n"+t.state.errMsg}),t.props.history.push({pathname:"/request/".concat(e),state:{userEmail:t.state.userEmail,msg:t.state.addMsg,requestData:t.state.requestDetails.filter((function(t){return t.id===e})),comment:t.state.commentList.filter((function(t){return t.request_id===e})),user:t.state.user}})})).catch((function(e){t.setState({msg:t.state.errMsg+e})}))}}},{key:"handleKeyDown",value:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight+10,"px"),e.target.style.height="".concat(Math.min(e.target.scrollHeight,130),"px")}},{key:"requestTbl",value:function(e){var t=this;return e.map((function(e,a){var l=[];return l.push(e),s.a.createElement("div",{key:e.id,className:"disp-div"},s.a.createElement("div",{className:"displayFlex"},s.a.createElement("div",{className:"disp-div-requestor"},s.a.createElement("div",null,s.a.createElement("img",{src:t.state.userImageDataList.filter((function(t){return t.email_id===e.email_id})).length>0?t.state.userImageDataList.filter((function(t){return t.email_id===e.email_id}))[0].image_data:te.a,className:"disp-div-photo",alt:t.state.userImageDataList.filter((function(t){return t.email_id===e.email_id})).length>0?t.state.userImageDataList.filter((function(t){return t.email_id===e.email_id}))[0].image_data:te.a})),s.a.createElement(L.b,{className:"fontSmall",to:{pathname:"/player/".concat(e.email_id),state:{userEmail:t.state.userEmail}}},e.requestor)),s.a.createElement(L.b,{className:"nav-link",to:{pathname:"/request/".concat(e.id),state:{userEmail:t.state.userEmail,requestData:l,comment:t.state.commentList.filter((function(t){return t.request_id===e.id})),user:t.state.user}}},s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"10",className:"disp-div-row-col title"},e.title),s.a.createElement(Y.a,{xs:"2",className:"disp-div-row-col textAlignRight"},t.dateConvert(e.created))),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col sportType"},e.sport_type?e.sport_type:"No sport selected")),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"6",className:"disp-div-row-col"},s.a.createElement("i",null,"Venue:")," ",e.address?e.address:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Date:")," ",e.date?e.date:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Time:")," ",e.time?e.time:"N/A")))),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col"},s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"comment"+e.id},"Comment"),s.a.createElement("div",{className:"dispFlex comments"},s.a.createElement(K.a,{type:"textarea",name:"comment",className:"commentId",id:"comment"+e.id,placeholder:"Comment",onKeyDown:t.handleKeyDown,onChange:t.handleOnChange}),s.a.createElement(J.a,{color:"primary",size:"sm",onClick:t.add.bind(t,e.id)},"Save"),s.a.createElement(J.a,{type:"reset",color:"secondary",size:"sm"},"Reset")))))))}))}},{key:"componentDidMount",value:function(){var e=this;(console.log("fetching data for all requets"),T.a.get("/api/get/requestlist").then((function(e){return e.data}))).then((function(t){e.setState({requestDetails:t})})),console.log("from redux"),console.log(this.props),(console.log("fetching data for all players"),T.a.get("/api/get/playerlist").then((function(e){return e.data}))).then((function(t){var a=t.filter((function(t){return t.email_id===e.state.userEmail}));e.setState({user:a})})),(console.log("fetching data for all comments"),T.a.get("/api/get/requestcommentlist").then((function(e){return e.data}))).then((function(t){e.setState({commentList:t})})),(console.log("fetching data for all images from S3"),T.a.get("/api/get/images3/").then((function(e){return e.data}))).then((function(t){e.setState({userImageDataList:t})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),this.requestTbl(this.state.requestDetails)))}}]),t}(l.Component);var ie=Object(h.g)(Object(se.b)((function(e){return{requests:e.allRequests}}))(ne)),re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOnChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.addCommentData;n[l]=s,a.setState({addCommentData:n})},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.state={userEmail:a.props.userEmail,msg:a.props.msg?a.props.msg:"",header:"My Requests",addCommentData:{requestId:"",comment:"",userId:"",created:"",lastModified:""},addToCommentList:{id:null,request_id:null,comment:"",user_id:null,full_name:"",email_id:"",created:"",last_modified:""},requestDetails:[],myRequestDetails:[],user:[],commentList:[],userImageData:[],addMsg:"comment added!",errMsg:"error while adding added!"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"dateConvert",value:function(e){var t=new Date(e);return(new Date).toDateString()===t.toDateString()?t.toLocaleTimeString().slice(0,4)+" "+t.toLocaleTimeString().split(" ")[1]:t.toDateString().split(" ")[1]+" "+t.toDateString().split(" ")[2]}},{key:"add",value:function(e){var t=this,a=this.state.addCommentData;if(a.comment.length>0){a.requestId=e,a.userId=this.state.user[0].id;var l=(new Date).toUTCString();a.created=l,a.lastModified=l;var s=this.state.addToCommentList,n=this.state.commentList;s.id=this.state.commentList[this.state.commentList.length-1].id+1,s.request_id=e,s.comment=a.comment,s.user_id=this.state.user[0].id,s.full_name=this.state.user[0].full_name,s.email_id=this.state.user[0].email_id,s.created=l,s.last_modified=l,n.push(s),this.setState({addCommentData:a,addToCommentList:s,commentList:n}),T.a.post("/api/post/newcomment",this.state.addCommentData).then((function(a){return t.setState({msg:200===a.status?t.state.addMsg:"status code "+a.status+"\n"+t.state.errMsg}),t.props.history.push({pathname:"/request/".concat(e),state:{userEmail:t.state.userEmail,msg:t.state.addMsg,requestData:t.state.requestDetails.filter((function(t){return t.id===e})),comment:t.state.commentList.filter((function(t){return t.request_id===e})),user:t.state.user}})})).catch((function(e){t.setState({msg:t.state.errMsg+e})}))}}},{key:"handleKeyDown",value:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight+10,"px"),e.target.style.height="".concat(Math.min(e.target.scrollHeight,130),"px")}},{key:"requestTbl",value:function(e){var t=this;return e.map((function(e,a){var l=[];return l.push(e),s.a.createElement("div",{key:e.id,className:"disp-div"},s.a.createElement("div",{className:"displayFlex"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{src:t.state.userImageData.length>0?t.state.userImageData[0].image_data:te.a,className:"disp-div-photo",alt:t.state.userImageData.length>0?t.state.userImageData[0].image_data:te.a})),s.a.createElement("br",null),s.a.createElement(L.b,{to:{pathname:"/player/".concat(e.email_id),state:{userEmail:t.state.userEmail}}},e.requestor)),s.a.createElement(L.b,{className:"nav-link",to:{pathname:"/request/".concat(e.id),state:{userEmail:t.state.userEmail,requestData:l,comment:t.state.commentList.filter((function(t){return t.request_id===e.id})),user:t.state.user}}},s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"10",className:"disp-div-row-col title"},e.title),s.a.createElement(Y.a,{xs:"2",className:"disp-div-row-col textAlignRight"},t.dateConvert(e.created))),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col sportType"},e.sport_type?e.sport_type:"No sport selected")),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"6",className:"disp-div-row-col"},s.a.createElement("i",null,"Venue:")," ",e.address?e.address:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Date:")," ",e.date?e.date:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Time:")," ",e.time?e.time:"N/A")))),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col"},s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"comment"+e.id},"Comment"),s.a.createElement("div",{className:"dispFlex comments"},s.a.createElement(K.a,{type:"textarea",name:"comment",className:"commentId",id:"comment"+e.id,placeholder:"Comment",onKeyDown:t.handleKeyDown,onChange:t.handleOnChange}),s.a.createElement(J.a,{color:"primary",size:"sm",onClick:t.add.bind(t,e.id)},"Save"),s.a.createElement(J.a,{type:"reset",color:"secondary",size:"sm"},"Reset")))))))}))}},{key:"componentDidMount",value:function(){var e=this;T.a.get("/api/get/requestlist").then((function(t){e.setState({requestDetails:t.data,myRequestDetails:t.data.filter((function(t){return t.email_id===e.state.userEmail}))})})),T.a.get("/api/get/player/",{params:{email_id:this.state.userEmail}}).then((function(t){e.setState({user:t.data})})),T.a.get("/api/get/requestcommentlist").then((function(t){e.setState({commentList:t.data})})),T.a.get("/api/get/images3/",{params:{email_id:this.state.userEmail}}).then((function(t){e.setState({userImageData:t.data})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),this.requestTbl(this.state.myRequestDetails)))}}]),t}(l.Component),me=Object(h.g)(re),oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.state={userEmail:a.props.userEmail,header:"Requests Overview",msg:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"displayFlex"},s.a.createElement("div",{className:"requestOverviewAllRequest mr-2 requestOverviewChild"},s.a.createElement(ie,{userEmail:this.state.userEmail})),s.a.createElement("div",{className:"requestOverviewMyRequest mr-2 requestOverviewChild"},s.a.createElement(me,{userEmail:this.state.userEmail})),s.a.createElement("div",{className:"requestOverviewSubmitRequest requestOverviewChild"},s.a.createElement(X,{userEmail:this.state.userEmail}))))}}]),t}(l.Component),ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Requests Overview",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement(oe,{header:this.state.header,userEmail:this.state.userEmail}),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),de=Object(h.g)(ce),ue=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentCalled=function(){return s.a.createElement("div",null,a.props.history.push({pathname:"/myTeamSchedule",state:{userEmail:a.state.userEmail}}))},a.state={userEmail:a.props.location.state?a.props.location.state.userEmail:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("this.props from homepage"),console.log(this.props),s.a.createElement("div",null,s.a.createElement(de,{userEmail:this.state.userEmail}))}}]),t}(l.Component),he=Object(h.g)(ue),pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mainHome"},s.a.createElement(H,null),s.a.createElement("header",{className:"masthead"},s.a.createElement("div",{className:"container h-100"},s.a.createElement("div",{className:"row h-100 align-items-center justify-content-center text-center"},s.a.createElement("div",{className:"col-lg-10 align-self-end"},s.a.createElement("div",{className:"homeBtn-box"},s.a.createElement("div",{class:"openReqSec"})),s.a.createElement("hr",{className:"divider my-4"})),s.a.createElement("div",{className:"col-lg-8 align-self-baseline"},s.a.createElement("a",{className:"homeBtn js-scroll-trigger",href:"/Home"},"Find Out More"))))),s.a.createElement(z,null))}}]),t}(l.Component),ge=function(e){function t(){var e,a;Object(m.a)(this,t);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"createHeader",value:function(e){return e.map((function(e){return s.a.createElement("th",{key:e},e)}))}}]),t}(l.Component),Ee=a(165),fe=a(158),ve=a(159),ye=a(160),Ne=a(161),De=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({dateErrMsg:"",timeErrMsg:"",hTeamErrMsg:"",aTeamErrMsg:"",venueErrMsg:"",umpireErrMsg:"",mTypeErrMsg:"",addDetails:{date:"",time:"",hTeam:null,aTeam:null,venue:null,umpire:null,matchType:""},filterDetails:{date:"",time:"",teamId:null,venue:null,umpire:null,matchType:""}})},a.validate=function(e){var t="",l="",s="",n="";return e.date&&""!==e.date||(t="please enter a valid date in mm/dd/yyyy format"),e.time||(l="please enter a valid time in HH:MM:AM/PM format"),e.hTeam&&"--Select--"!==e.hTeam||(s="please select a team (e.g. your team)"),e.aTeam&&"--Select--"!==e.aTeam||(n="please select a team (e.g. opponent team) or select\n      own team if opponent not yet decided or its a practise session"),!(t||l||s||n)||(a.setState({dateErrMsg:t,timeErrMsg:l,hTeamErrMsg:s,aTeamErrMsg:n,venueErrMsg:"",umpireErrMsg:"",mTypeErrMsg:""}),!1)},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.td=function(e,t,a,l,n){return n.map((function(n,i){var r="",m="",o="",c="";return"Home_Team"!==n&&"Away_Team"!==n||(t.length>0&&(o=t.filter((function(t){return t.team_name===e[n]}))[0].id.toString()),r="/api/get/team/"+o,m="tdLink"),"venue_name"===n&&(a.length>0&&e[n]&&(o=a.filter((function(t){return t.venue_name===e[n]}))[0].id.toString()),r="/api/get/venue/"+o,m="tdLink"),"full_name"===n&&(l.length>0&&e[n]&&(c=l.filter((function(t){return t.full_name===e[n]}))[0].user_id.toString()),r="/api/get/player/"+c,m="tdLink"),s.a.createElement("td",{key:i},s.a.createElement("a",{className:m,href:r},e[n]))}))},a.handleOnViewAllClick=function(){a.setState({matchDetails:a.state.filterMatchDetails})},a.state={colHead:["Date","Time","Home Team","Away Team","Venue","Address","Umpire","Match Type"],columns:["date","time","Home_Team","Away_Team","venue_name","Address","full_name","match_type"],editModalDisplay:!1,deleteModalDisplay:!1,addModalDisplay:!1,filterModalDisplay:!1,addDetails:{date:"",time:"",hTeam:null,aTeam:null,venue:null,umpire:null,matchType:""},filterDetails:{date:"",time:"",teamId:null,venue:null,umpire:null,matchType:""},editDetails:{id:null,date:"",time:"",hTeam:null,aTeam:null,venue:null,umpire:null,mType:""},modalData:{id:null,date:"",time:"",hTeam:"",aTeam:"",venue:"",umpire:"",mType:""},dateErrMsg:"",timeErrMsg:"",hTeamErrMsg:"",aTeamErrMsg:"",venueErrMsg:"",umpireErrMsg:"",mTypeErrMsg:"",matchDetails:[],filterMatchDetails:[],matchTypeValues:[],matchTypesList:[],teamList:[],venueList:[],umpireList:[],msg:"",addMsg:"New match added successfully!",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page",updateMsg:"Match details updated successfully",delMsg:"Match deleted!",matchesLink:a.props.matchesLink,userEmail:a.props.userEmail,header:a.props.header,fromPage:a.props.fromPage,showAdd:!0,showEdit:!1,showDelete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adminUser",value:function(){"admin@myemail.com"===this.state.userEmail&&this.setState({showEdit:!0,showDelete:!0})}},{key:"onlyUnique",value:function(e,t,a){return a.indexOf(e)===t}},{key:"toggleEditMatchModal",value:function(){this.setState((function(e){return{editModalDisplay:!e.editModalDisplay}})),this.resetStates()}},{key:"toggleDeleteMatchModal",value:function(){this.setState((function(e){return{deleteModalDisplay:!e.deleteModalDisplay}})),this.resetStates()}},{key:"toggleAddMatchModal",value:function(){this.setState((function(e){return{addModalDisplay:!e.addModalDisplay}})),this.resetStates()}},{key:"toggleFilterMatchModal",value:function(){this.setState((function(e){return{filterModalDisplay:!e.filterModalDisplay}})),this.resetStates()}},{key:"setEditMatchModalData",value:function(e,t,a,l,s,n,i,r){this.setState({modalData:{id:e,date:t,time:a,hTeam:l,aTeam:s,venue:n,umpire:i,mType:r}}),this.toggleEditMatchModal()}},{key:"setDeleteMatchModalData",value:function(e,t,a,l,s,n,i,r){this.setState({modalData:{id:e,date:t,time:a,hTeam:l,aTeam:s,venue:n,umpire:i,mType:r}}),this.toggleDeleteMatchModal()}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"editMatch",value:function(){var e=this;if(this.validate(this.state.modalData)){var t=this.state.modalData,a=this.state.editDetails;a.id=t.id,a.date=t.date,a.time=t.time,this.hasValue(t.hTeam)&&(a.hTeam=this.state.teamList.filter((function(e){return e.team_name===t.hTeam}))[0].id),this.hasValue(t.aTeam)&&(a.aTeam=this.state.teamList.filter((function(e){return e.team_name===t.aTeam}))[0].id),this.hasValue(t.venue)?a.venue=this.state.venueList.filter((function(e){return e.venue_name===t.venue}))[0].id:a.venue=null,this.hasValue(t.umpire)?a.umpire=this.state.umpireList.filter((function(e){return e.full_name===t.umpire}))[0].id:a.umpire=null,this.hasValue(t.mType)?a.mType=t.mType:a.mType="",this.setState({editDetails:a}),console.log(this.state.modalData),console.log(this.state.editDetails),T.a.put("/api/put/match",this.state.editDetails).then((function(t){e.setState({msg:200===t.status?e.state.updateMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get(e.state.matchesLink).then((function(t){e.setState({matchDetails:t.data})})),e.toggleEditMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t.request.status+". "+t.request.responseText}),e.toggleEditMatchModal()}))}}},{key:"deleteMatch",value:function(){var e=this;T.a.delete("/api/delete/match",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.delMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get(e.state.matchesLink).then((function(t){e.setState({matchDetails:t.data})})),e.toggleDeleteMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteMatchModal()}))}},{key:"addNewMatch",value:function(){var e=this;this.validate(this.state.addDetails)&&(console.log(this.state.addDetails),T.a.post("/api/post/newmatch",this.state.addDetails).then((function(t){e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get(e.state.matchesLink).then((function(t){e.setState({matchDetails:t.data})})),e.toggleAddMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleAddMatchModal()})))}},{key:"filterData",value:function(){var e=this;console.log(this.state.filterDetails.teamId),console.log(this.state.filterDetails.venue),T.a.get("/api/get/match/",{withCredentials:!0,params:{date:this.state.filterDetails.date,time:this.state.filterDetails.time,team_id:this.state.filterDetails.teamId,venue_id:this.state.filterDetails.venue,match_type:this.state.filterDetails.matchType,umpire_id:this.state.filterDetails.umpire}}).then((function(t){e.setState({matchDetails:t.data}),e.toggleFilterMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleFilterMatchModal()}))}},{key:"formatRows",value:function(e,t,a,l,n){var i=this;return e.map((function(e){return s.a.createElement("tr",{key:e.id,className:"trTbl"},i.td(e,t,a,l,n),i.state.showEdit?s.a.createElement("td",null,s.a.createElement(J.a,{color:"info",className:"mr-1",size:"sm",onClick:i.setEditMatchModalData.bind(i,e.id,e.date,e.time,e.Home_Team,e.Away_Team,e.venue_name,e.full_name,e.match_type)},"Edit")):null,i.state.showDelete?s.a.createElement("td",null,s.a.createElement(J.a,{color:"danger",size:"sm",onClick:i.setDeleteMatchModalData.bind(i,e.id,e.date,e.time,e.Home_Team,e.Away_Team,e.venue_name,e.full_name,e.match_type)},"Delete")):null)}))}},{key:"addModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.addModalDisplay,toggle:this.toggleAddMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleAddMatchModal.bind(this)},"Add Match Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"dateId"},"Date"),s.a.createElement("p",{className:"hintPara"},"(Hint: if not decided, select any date now and change it later)"),s.a.createElement(K.a,{type:"date",name:"date",id:"dateId",placeholder:"date placeholder",onChange:function(t){var a=e.state.addDetails;a.date=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.dateErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"timeId"},"Time"),s.a.createElement(K.a,{type:"time",name:"time",id:"timeId",placeholder:"time placeholder",onChange:function(t){var a=e.state.addDetails;a.time=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.timeErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectHomeTeamId"},"Home Team"),s.a.createElement("p",{className:"hintPara"},"(Hint: your team )"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectHomeTeamId",onChange:function(t){var a=e.state.addDetails;a.hTeam=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.hTeamErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectAwayTeamId"},"Away Team"),s.a.createElement("p",{className:"hintPara"},"(Hint: if opponent not decided/practice, select own team)"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectAwayTeamId",onChange:function(t){var a=e.state.addDetails;a.aTeam=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.aTeamErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectVenueId"},"Venue"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectVenueId",onChange:function(t){var a=e.state.addDetails;a.venue=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.venueList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.venue_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.venueErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectUmpireId"},"Umpire"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectUmpireId",onChange:function(t){var a=e.state.addDetails;a.umpire=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.umpireList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.umpireErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectMatchTypeId"},"Match Type"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectMatchTypeId",onChange:function(t){var a=e.state.addDetails;a.matchType=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.matchTypesList.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)}))),s.a.createElement("p",{className:"validationMsg"},this.state.mTypeErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.addNewMatch.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleAddMatchModal.bind(this)},"Cancel")))}},{key:"filterModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.filterModalDisplay,toggle:this.toggleFilterMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleFilterMatchModal.bind(this)},"Filter"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"dateId"},"Date"),s.a.createElement(K.a,{type:"date",name:"date",id:"dateId",placeholder:"date placeholder",onChange:function(t){var a=e.state.filterDetails;a.date=t.target.value,e.setState({filterDetails:a})}})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"timeId"},"Time"),s.a.createElement(K.a,{type:"time",name:"time",id:"timeId",placeholder:"time placeholder",onChange:function(t){var a=e.state.filterDetails;a.time=t.target.value,e.setState({filterDetails:a})}})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectTeamId"},"Team"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectTeamId",onChange:function(t){var a=e.state.filterDetails;a.teamId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectVenueId"},"Venue"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectVenueId",onChange:function(t){var a=e.state.filterDetails;a.venue=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.venueList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.venue_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectUmpireId"},"Umpire"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectUmpireId",onChange:function(t){var a=e.state.filterDetails;a.umpire=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.umpireList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectMatchTypeId"},"Match Type"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectMatchTypeId",onChange:function(t){var a=e.state.filterDetails;a.matchType=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.matchTypesList.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.filterData.bind(this)},"Filter")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleFilterMatchModal.bind(this)},"Cancel")))}},{key:"editModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.editModalDisplay,toggle:this.toggleEditMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleEditMatchModal.bind(this)},"Edit Match Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"dateId"},"Date"),s.a.createElement("p",{className:"hintPara"},"(Hint: if not decided, select any date now and change it later)"),s.a.createElement(K.a,{type:"date",name:"date",id:"dateId",value:this.state.modalData.date,onChange:function(t){var a=e.state.modalData;a.date=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.dateErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"timeId"},"Time"),s.a.createElement(K.a,{type:"time",name:"time",id:"timeId",value:this.state.modalData.time,onChange:function(t){var a=e.state.modalData;a.time=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.timeErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectHomeTeamId"},"Home Team"),s.a.createElement("p",{className:"hintPara"},"(Hint: your team )"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectHomeTeamId",onChange:function(t){var a=e.state.modalData;a.hTeam=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.hTeam),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.team_name},e.team_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.hTeamErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectAwayTeamId"},"Away Team"),s.a.createElement("p",{className:"hintPara"},"(Hint: if opponent not decided, select own team)"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectAwayTeamId",onChange:function(t){var a=e.state.modalData;a.aTeam=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.aTeam),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.team_name},e.team_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.aTeamErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectVenueId"},"Venue"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectVenueId",onChange:function(t){var a=e.state.modalData;a.venue=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.venue),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.venueList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.venue_name},e.venue_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.venueErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectUmpireId"},"Umpire"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectUmpireId",onChange:function(t){var a=e.state.modalData;a.umpire=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.umpire),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.umpireList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.full_name},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.umpireErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectMatchTypeid"},"Match Type"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectMatchTypeid",onChange:function(t){var a=e.state.modalData;a.mType=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.mType),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.matchTypesList.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)}))),s.a.createElement("p",{className:"validationMsg"},this.state.mTypeErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.editMatch.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleEditMatchModal.bind(this)},"Cancel")))}},{key:"deleteModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteModalDisplay,toggle:this.toggleDeleteMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteMatchModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this match? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Date: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.date)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Time: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.time)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Home Team: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.hTeam)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Away Team: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.aTeam)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Venue: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.venue)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Umpire: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.umpire)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Match Type: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.mType))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.deleteMatch.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteMatchModal.bind(this)},"Cancel")))}},{key:"addBtn",value:function(){if(this.state.showAdd)return s.a.createElement("div",null,s.a.createElement(J.a,{color:"primary",className:"mb-2",onClick:this.toggleAddMatchModal.bind(this)},"Add New Match"))}},{key:"filterBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.toggleFilterMatchModal.bind(this)},"Filter"))}},{key:"viewAllBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.handleOnViewAllClick},"View All"))}},{key:"componentDidMount",value:function(){var e=this;this.adminUser(),T.a.get(this.state.matchesLink,{params:{email_id:this.state.userEmail},withCredentials:!0}).then((function(t){e.setState({matchDetails:t.data,filterMatchDetails:t.data,matchTypeValues:t.data.map((function(e){return e.match_type})).filter((function(e){return null!==e})),matchTypesList:t.data.map((function(e){return e.match_type})).filter((function(e){return null!==e})).filter((function(e){return"null"!==e})).filter((function(e){return""!==e})).filter(e.onlyUnique)})})),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),T.a.get("/api/get/venuelist").then((function(t){e.setState({venueList:t.data})})),T.a.get("/api/get/umpirelist").then((function(t){e.setState({umpireList:t.data})}))}},{key:"render",value:function(){return this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement("div",{className:"container"},this.addModal(),this.editModal(),this.deleteModal(),this.filterModal(),s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"add-filter-btn"},this.filterBtn(),this.viewAllBtn(),this.addBtn()),s.a.createElement(Ne.a,{bordered:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,(this.state.showEdit&&"Edit"!==this.state.colHead.slice(-1)[0]&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Edit"),this.state.showDelete&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Delete"),this.tbl.createHeader(this.state.colHead)))),s.a.createElement("tbody",null,this.formatRows(this.state.matchDetails,this.state.teamList,this.state.venueList,this.state.umpireList,this.state.columns)))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Me=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"All Matches Schedule",userEmail:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(De,{matchesLink:"/api/get/allmatches",header:this.state.header,userEmail:this.state.userEmail}))}}]),t}(l.Component),Se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"My Team Schedule",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("this.props from my match schedule page"),console.log(this.props),s.a.createElement("div",null,s.a.createElement(De,{matchesLink:"/api/get/myteammatches",header:this.state.header,userEmail:this.state.userEmail}))}}]),t}(l.Component),be=Object(h.g)(Se),Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({teamNameErrMsg:"",captainErrMsg:"",managerErrMsg:"",addDetails:{teamName:"",captainUserId:null,managerUserId:null},filterDetails:{teamName:"",captainUserId:null,managerUserId:null}})},a.validate=function(e){var t="",l="";return e.teamName=e.teamName.trim(),a.state.modalDataOriginal.teamName===e.teamName&&""!==a.state.modalDataOriginal.teamName||(!e.teamName||e.teamName.length<=2||!isNaN(e.teamName)||!a.isValidString(e.teamName)?t="At least 3 characters with one alphabet. Allowed special characters #&-@:_":a.state.teamList.filter((function(t){return t.team_name===e.teamName})).length>0&&(t=e.teamName+" is already taken. Please try a different name")),e.captainUserId&&"--Select--"!==e.captainUserId||(l="please select a captain"),!t&&!l||(a.setState({teamNameErrMsg:t,captainErrMsg:l}),!1)},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.state={userEmail:a.props.userEmail,colHead:["Team Name","Captain","Captain Contact","Manager","Manager Contact"],columns:["team_name","captain_name","captain_contact_no","manager_name","manager_contact_no"],editModalDisplay:!1,deleteModalDisplay:!1,addModalDisplay:!1,filterModalDisplay:!1,addDetails:{teamName:"",captainUserId:null,managerUserId:null},filterDetails:{teamName:"",captainUserId:null,managerUserId:null},editDetails:{id:null,teamName:"",captainUserId:null,managerUserId:null},modalData:{id:null,teamName:"",captainUserId:"",managerUserId:""},modalDataOriginal:{id:null,teamName:"",captainUserId:"",managerUserId:""},teamNameErrMsg:"",captainErrMsg:"",managerErrMsg:"",playersErrMsg:"",teamList:[],filterTeamList:[],playerList:[],captainList:[],managerList:[],msg:"",addMsg:"New team added successfully!",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page. Error code: ",updateMsg:"Team details updated successfully",delMsg:"Team deleted!",showAdd:!1,showEdit:!1,showDelete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adminUser",value:function(){"admin@myemail.com"===this.state.userEmail&&this.setState({showAdd:!0,showEdit:!0,showDelete:!0})}},{key:"toggleEditModal",value:function(){this.setState((function(e){return{editModalDisplay:!e.editModalDisplay}})),this.resetStates()}},{key:"toggleDeleteModal",value:function(){this.setState((function(e){return{deleteModalDisplay:!e.deleteModalDisplay}})),this.resetStates()}},{key:"toggleAddModal",value:function(){this.setState((function(e){return{addModalDisplay:!e.addModalDisplay}})),this.resetStates()}},{key:"toggleFilterMatchModal",value:function(){this.setState((function(e){return{filterModalDisplay:!e.filterModalDisplay}})),this.resetStates()}},{key:"isValidString",value:function(e){return!/[~`!$%^*+=[\]\\';,/{}()|\\"<>?]/g.test(e)&&e.match(/[a-z]/i)}},{key:"setEditModalData",value:function(e,t,a,l){this.setState({modalData:{id:e,teamName:t,captainUserId:a,managerUserId:l},modalDataOriginal:{id:e,teamName:t,captainUserId:a,managerUserId:l}}),this.toggleEditModal()}},{key:"setDeleteModalData",value:function(e,t,a,l){this.setState({modalData:{id:e,teamName:t,captainUserId:a,managerUserId:l}}),this.toggleDeleteModal()}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"update",value:function(){var e=this;if(this.validate(this.state.modalData)){var t=this.state.modalData,a=this.state.editDetails;a.id=t.id,a.teamName=t.teamName,this.hasValue(t.captainUserId)&&(a.captainUserId=this.state.playerList.filter((function(e){return e.full_name===t.captainUserId}))[0].id),this.hasValue(t.managerUserId)?a.managerUserId=this.state.playerList.filter((function(e){return e.full_name===t.managerUserId}))[0].id:a.managerUserId=null,this.setState({editDetails:a}),console.log(this.state.modalData),console.log(this.state.editDetails),T.a.put("/api/put/team",this.state.editDetails).then((function(t){e.setState({msg:200===t.status?e.state.updateMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),e.toggleEditModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t.request.status+". "+t.request.responseText}),e.toggleEditModal()}))}}},{key:"delete",value:function(){var e=this;T.a.delete("/api/delete/team",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.delMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),e.toggleDeleteModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteModal()}))}},{key:"add",value:function(){var e=this;this.validate(this.state.addDetails)&&T.a.post("/api/post/newteam",this.state.addDetails).then((function(t){e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),e.toggleAddModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleAddModal()}))}},{key:"filterData",value:function(){var e=this;console.log(this.state.filterDetails.teamName),T.a.get("/api/get/team/",{params:{id:this.state.filterDetails.teamName,captain_id:this.state.filterDetails.captainUserId,manager_id:this.state.filterDetails.managerUserId}}).then((function(t){console.log(t.data),e.setState({teamList:t.data}),e.toggleFilterMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleFilterMatchModal()}))}},{key:"td",value:function(e,t,a){return a.map((function(a,l){var n="",i="",r="";return"captain_name"!==a&&"manager_name"!==a||(t.length>0&&e[a]&&(r=t.filter((function(t){return t.full_name===e[a]}))[0].id.toString()),n="/api/get/player/"+r,i="tdLink"),"team_name"===a&&(n="/api/get/team/"+e.id.toString(),i="tdLink"),s.a.createElement("td",{key:l},s.a.createElement("a",{className:i,href:n},e[a]))}))}},{key:"formatRows",value:function(e,t,a){var l=this;return e.map((function(e){return s.a.createElement("tr",{key:e.id,className:"trTbl"},l.td(e,t,a),l.state.showEdit?s.a.createElement("td",null,s.a.createElement(J.a,{color:"info",className:"mr-1",size:"sm",onClick:l.setEditModalData.bind(l,e.id,e.team_name,e.captain_name,e.manager_name)},"Edit")):null,l.state.showDelete?s.a.createElement("td",null,s.a.createElement(J.a,{color:"danger",size:"sm",onClick:l.setDeleteModalData.bind(l,e.id,e.team_name,e.captain_name,e.manager_name)},"Delete")):null)}))}},{key:"addModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.addModalDisplay,toggle:this.toggleAddModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleAddModal.bind(this)},"Add Team Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"teamNameId"},"Team Name"),s.a.createElement(K.a,{type:"text",name:"teamName",id:"teamNameId",onChange:function(t){var a=e.state.addDetails;a.teamName=t.target.value,e.setState({addDetails:a})},placeholder:"your team name"}),s.a.createElement("p",{className:"validationMsg"},this.state.teamNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectCaptainId"},"Captain"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectCaptainId",onChange:function(t){var a=e.state.addDetails;a.captainUserId=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.playerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.captainErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectManagerId"},"Manager"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectManagerId",onChange:function(t){var a=e.state.addDetails;a.managerUserId=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0"},"--Select--"),this.state.playerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.managerErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.add.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleAddModal.bind(this)},"Cancel")))}},{key:"filterModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.filterModalDisplay,toggle:this.toggleFilterMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleFilterMatchModal.bind(this)},"Filter"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"teamNameId"},"Team"),s.a.createElement(K.a,{type:"select",name:"select",id:"teamNameId",onChange:function(t){var a=e.state.filterDetails;a.teamName=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.filterTeamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"captainId"},"Captain"),s.a.createElement(K.a,{type:"select",name:"select",id:"captainId",onChange:function(t){var a=e.state.filterDetails;a.captainUserId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.captainList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectTeamId"},"Team"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectTeamId",onChange:function(t){var a=e.state.filterDetails;a.managerUserId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.managerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.filterData.bind(this)},"Filter")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleFilterMatchModal.bind(this)},"Cancel")))}},{key:"editModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.editModalDisplay,toggle:this.toggleEditModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleEditModal.bind(this)},"Edit Team Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"teamNameId"},"Team Name"),s.a.createElement(K.a,{type:"text",name:"editTeamName",id:"teamNameId",value:this.state.modalData.teamName,onChange:function(t){var a=e.state.modalData;a.teamName=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.teamNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectCaptainId"},"Captain"),s.a.createElement(K.a,{type:"select",name:"selectCaptain",id:"selectCaptainId",onChange:function(t){var a=e.state.modalData;a.captainUserId=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.captainUserId),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.playerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.full_name},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.captainErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectManagerId"},"Manger"),s.a.createElement(K.a,{type:"select",name:"selectManager",id:"selectManagerId",onChange:function(t){var a=e.state.modalData;a.managerUserId=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.managerUserId),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.playerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.full_name},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.managerErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.update.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleEditModal.bind(this)},"Cancel")))}},{key:"deleteModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteModalDisplay,toggle:this.toggleDeleteModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this team? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Team Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.teamName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Captain: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.captainUserId)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Manager: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.managerUserId))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.delete.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteModal.bind(this)},"Cancel")))}},{key:"addBtn",value:function(){if(this.state.showAdd)return s.a.createElement("div",null,s.a.createElement(J.a,{color:"primary",className:"mb-2",onClick:this.toggleAddModal.bind(this)},"Add New Team"))}},{key:"filterBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.toggleFilterMatchModal.bind(this)},"Filter"))}},{key:"componentDidMount",value:function(){var e=this;this.adminUser(),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data,filterTeamList:t.data})})),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data,captainList:t.data.filter((function(e){return 2===e.role_id})),managerList:t.data.filter((function(e){return 3===e.role_id}))})}))}},{key:"render",value:function(){return console.log(this.state.captainList),console.log(this.state.managerList),this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement("div",{className:"container"},this.addModal(),this.editModal(),this.deleteModal(),this.filterModal(),s.a.createElement("h1",{className:"pageHead"},this.props.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"add-filter-btn"},this.filterBtn(),this.addBtn()),s.a.createElement(Ne.a,{bordered:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,(this.state.showEdit&&"Edit"!==this.state.colHead.slice(-1)[0]&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Edit"),this.state.showDelete&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Delete"),this.tbl.createHeader(this.state.colHead)))),s.a.createElement("tbody",null,this.formatRows(this.state.teamList,this.state.playerList,this.state.columns)))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),ke=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Teams List",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ce,{header:this.state.header,userEmail:this.state.userEmail}))}}]),t}(l.Component),Ie=Object(h.g)(ke),we=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({firstNameErrMsg:"",lastNameErrMsg:"",middleNameErrMsg:"",emailNameErrMsg:"",phoneErrMsg:"",passwordErrMsg:"",confirmPasswordErrMsg:"",secretQErrMsg:"",secretAErrMsg:"",addDetails:{firstName:"",lastName:"",middleName:"",emailId:"",fullName:"",teamId:null,phone:"",created:"",modified:"",roleId:4},filterDetails:{emailId:"",fullName:"",teamId:null,roleId:null}})},a.validate=function(e,t){var l="",s="",n="",i="",r="",m="",o="",c="",d="";return e.firstName=e.firstName.trim(),e.emailId=e.emailId.trim(),a.state.modalDataOriginal.firstName===e.firstName&&""!==a.state.modalDataOriginal.firstName||e.firstName&&!(e.firstName.length<1)&&isNaN(e.firstName)&&a.isValidName(e.firstName)||(l="At least one alphabet is required. No special characters or numbers allowed"),a.hasValue(e.middleName)&&(e.middleName=e.middleName.trim(),isNaN(e.middleName)&&a.isValidName(e.middleName)||(s="No special characters or numbers allowed")),a.hasValue(e.lastName)&&(e.lastName=e.lastName.trim(),isNaN(e.lastName)&&a.isValidName(e.lastName)||(n="No special characters or numbers allowed")),a.state.modalDataOriginal.emailId===e.emailId&&""!==a.state.modalDataOriginal.emailId||(!e.emailId||e.emailId.length<1||!isNaN(e.emailId)||!a.isValidEmail(e.emailId)?i="Please enter a valid email id!":a.state.playerList.filter((function(t){return t.email_id===e.emailId})).length>0&&(i=e.emailId+" is already taken. Please try a different emailId")),a.hasValue(e.phone)&&(e.phone=e.phone.toString().trim(),a.isValidPhone(e.phone)||(r="only digits allowed e.g. 9999999999")),t&&(a.hasValue(e.password)?(e.password=e.password.trim(),a.isValidPassword(e.password)||(m="please enter a valid password")):m="password cannot be blank",a.hasValue(e.confirmPassword)?(e.confirmPassword=e.confirmPassword.trim(),e.password!==e.confirmPassword&&(o="password should match")):o="confirm password field cannot be blank",a.hasValue(e.secretQid)&&"--Select--"!==e.secretQid||(c="please select a question"),a.hasValue(e.secretA)?(e.secretA=e.secretA.trim(),a.isValidAnswer(e.secretA)||(d="Only alphabates and space are allowed. No numbers, special characters allowed")):d="Please enter a answer"),!(l||s||n||i||r||m||o||c||d)||(a.setState({firstNameErrMsg:l,middleNameErrMsg:s,lastNameErrMsg:n,emailIdErrMsg:i,phoneErrMsg:r,passwordErrMsg:m,confirmPasswordErrMsg:o,secretQErrMsg:c,secretAErrMsg:d}),!1)},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.state={userEmail:a.props.userEmail,colHead:["Name","Team","Email ID","Contact","Umpire ID"],columns:["full_name","team_name","email_id","contact_no","umpire_id"],editModalDisplay:!1,deleteModalDisplay:!1,addModalDisplay:!1,filterModalDisplay:!1,addDetails:{firstName:"",lastName:"",middleName:"",emailId:"",fullName:"",teamId:null,phone:null,password:"",confirmPassword:"",secretQid:null,secretA:"",created:"",modified:"",roleId:null},filterDetails:{emailId:"",fullName:"",teamId:null,roleId:null},editDetails:{id:null,firstName:"",lastName:"",middleName:"",emailId:"",fullName:"",teamId:null,phone:null,modified:"",roleId:null},modalData:{id:null,firstName:"",lastName:"",middleName:"",emailId:"",teamName:"",phone:"",roleId:null},modalDataOriginal:{id:null,firstName:"",lastName:"",middleName:"",emailId:"",teamName:"",phone:"",roleId:null},firstNameErrMsg:"",lastNameErrMsg:"",middleNameErrMsg:"",emailIdErrMsg:"",phoneErrMsg:"",passwordErrMsg:"",confirmPasswordErrMsg:"",secretQErrMsg:"",secretAErrMsg:"",teamList:[],playerList:[],filterPlayerList:[],userRoleList:[],secretQList:[],msg:"",addMsg:"New player added successfully!",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page. Error code: ",updateMsg:"Player details updated successfully",delMsg:"Player deleted!",showAdd:!0,showEdit:!1,showDelete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adminUser",value:function(){"admin@myemail.com"===this.state.userEmail&&this.setState({showEdit:!0,showDelete:!0})}},{key:"toggleEditModal",value:function(){this.setState((function(e){return{editModalDisplay:!e.editModalDisplay}})),this.resetStates()}},{key:"toggleDeleteModal",value:function(){this.setState((function(e){return{deleteModalDisplay:!e.deleteModalDisplay}})),this.resetStates()}},{key:"toggleAddModal",value:function(){this.setState((function(e){return{addModalDisplay:!e.addModalDisplay}})),this.resetStates()}},{key:"toggleFilterMatchModal",value:function(){this.setState((function(e){return{filterModalDisplay:!e.filterModalDisplay}})),this.resetStates()}},{key:"isValidName",value:function(e){return e.match(/^[A-Za-z.\s]+$/i)}},{key:"isValidEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"isValidPhone",value:function(e){return/[0-9]+/.test(e)}},{key:"isValidPassword",value:function(e){return e.match(/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z])(?=.{6,})/)}},{key:"isValidAnswer",value:function(e){return e.match(/^[A-Za-z\s]+$/i)}},{key:"setEditModalData",value:function(e,t,a,l,s,n,i,r){this.setState({modalData:{id:e,firstName:t,lastName:a,middleName:l,emailId:s,teamName:n,phone:i,roleId:r},modalDataOriginal:{id:e,firstName:t,lastName:a,middleName:l,emailId:s,teamName:n,phone:i,roleId:r}}),this.toggleEditModal()}},{key:"setDeleteModalData",value:function(e,t,a,l,s,n,i){this.setState({modalData:{id:e,firstName:t,lastName:a,middleName:l,emailId:s,teamName:n,phone:i}}),this.toggleDeleteModal()}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"update",value:function(){var e=this;if(this.validate(this.state.modalData,!1)){var t=this.state.modalData,a=this.state.editDetails;a.id=t.id,a.firstName=t.firstName,a.lastName=t.lastName,a.middleName=t.middleName,a.emailId=t.emailId,""===t.phone?a.phone=null:a.phone=t.phone,a.fullName=t.firstName,this.hasValue(t.middleName)&&(a.fullName+=" "+t.middleName),this.hasValue(t.lastName)&&(a.fullName+=" "+t.lastName),this.hasValue(t.teamName)?a.teamId=this.state.teamList.filter((function(e){return e.team_name===t.teamName}))[0].id:a.teamId=null;var l=(new Date).toUTCString();a.modified=l,a.roleId=t.roleId,this.setState({editDetails:a}),console.log(this.state.modalData),console.log(this.state.editDetails),T.a.put("/api/put/player",this.state.editDetails).then((function(t){e.setState({msg:200===t.status?e.state.updateMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data})})),e.toggleEditModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t.request.status+". "+t.request.responseText}),e.toggleEditModal()}))}}},{key:"delete",value:function(){var e=this;T.a.delete("/api/delete/player",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.delMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data})})),e.toggleDeleteModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteModal()}))}},{key:"add",value:function(){var e=this;if(this.validate(this.state.addDetails,!0)){var t=this.state.addDetails;0===t.teamId&&(t.teamId=null),t.fullName=t.firstName,this.hasValue(t.middleName)&&(t.fullName+=" "+t.middleName),this.hasValue(t.lastName)&&(t.fullName+=" "+t.lastName),t.emailId=t.emailId.toLowerCase();var a=(new Date).toUTCString();t.created=a,t.modified=a,t.roleId=4,this.setState({addDetails:t}),T.a.post("/api/post/newplayer",this.state.addDetails).then((function(t){e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data})})),e.toggleAddModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleAddModal()}))}}},{key:"filterData",value:function(){var e=this;T.a.get("/api/get/player/",{params:{full_name:this.state.filterDetails.fullName,email_id:this.state.filterDetails.emailId,team_id:this.state.filterDetails.teamId,role_id:this.state.filterDetails.roleId}}).then((function(t){e.setState({playerList:t.data}),e.toggleFilterMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleFilterMatchModal()}))}},{key:"td",value:function(e,t,a){var l=this;return a.map((function(a,n){var i="",r="",m="";return"full_name"===a&&(i="/player/"+e.email_id,r="tdLink"),"team_name"===a&&(t.length>0&&e[a]&&(m=t.filter((function(t){return t.team_name===e[a]}))[0].id.toString()),i="/api/get/team/"+m,r="tdLink"),s.a.createElement("td",{key:n},s.a.createElement(L.b,{className:r,to:{pathname:i,state:{userEmail:l.state.userEmail}}},e[a]))}))}},{key:"formatRows",value:function(e,t,a){var l=this;return e.map((function(e){return s.a.createElement("tr",{key:e.id,className:"trTbl"},l.td(e,t,a),l.state.showEdit?s.a.createElement("td",null,s.a.createElement(J.a,{color:"info",className:"mr-1",size:"sm",onClick:l.setEditModalData.bind(l,e.id,e.first_name,e.last_name,e.middle_name,e.email_id,e.team_name,e.contact_no,e.role_id)},"Edit")):null,l.state.showDelete?s.a.createElement("td",null,s.a.createElement(J.a,{color:"danger",size:"sm",onClick:l.setDeleteModalData.bind(l,e.id,e.first_name,e.last_name,e.middle_name,e.email_id,e.team_name,e.contact_no)},"Delete")):null)}))}},{key:"addModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.addModalDisplay,toggle:this.toggleAddModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleAddModal.bind(this)},"Add Player Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"firstNameId"},"First Name"),s.a.createElement(K.a,{type:"text",name:"firstName",id:"firstNameId",placeholder:"First Name",onChange:function(t){var a=e.state.addDetails;a.firstName=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.firstNameErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"middleNameId"},"Middle Name"),s.a.createElement(K.a,{type:"text",name:"middleName",id:"middleNameId",placeholder:"Middle Name",onChange:function(t){var a=e.state.addDetails;a.middleName=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.middleNameErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"lastNameId"},"Last Name"),s.a.createElement(K.a,{type:"text",name:"lastName",id:"lastNameId",placeholder:"Last Name",onChange:function(t){var a=e.state.addDetails;a.lastName=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.lastNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"emailId"},"Email ID"),s.a.createElement(K.a,{type:"text",name:"email",id:"emailId",placeholder:"Email ID",onChange:function(t){var a=e.state.addDetails;a.emailId=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.emailIdErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectTeamNameId"},"Team"),s.a.createElement(K.a,{type:"select",name:"selectTeam",id:"selectTeamNameId",onChange:function(t){var a=e.state.addDetails;a.teamId=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"phoneId"},"Phone"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. 9999999999)"),s.a.createElement(K.a,{type:"text",name:"phoneName",id:"phoneId",placeholder:"Phone Number",onChange:function(t){var a=e.state.addDetails;a.phone=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.phoneErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"passwordId"},"Password"),s.a.createElement("p",{className:"hintPara"},"(Hint: at least one uppercase/number/special character(!@#$&*)/lowercase required)"),s.a.createElement(K.a,{type:"password",name:"passwordName",id:"passwordId",placeholder:"Password",onChange:function(t){var a=e.state.addDetails;a.password=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.passwordErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"confirmPasswordId"},"Confirm Password"),s.a.createElement(K.a,{type:"password",name:"confirmPasswordName",id:"confirmPasswordId",placeholder:"Password",onChange:function(t){var a=e.state.addDetails;a.confirmPassword=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.confirmPasswordErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"secretQId"},"Secret Question"),s.a.createElement(K.a,{type:"select",name:"selectsecretQ",id:"secretQId",onChange:function(t){var a=e.state.addDetails;a.secretQid=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.secretQList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.question)})),">"),s.a.createElement("p",{className:"validationMsg"},this.state.secretQErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"secretAId"},"Secret Answer"),s.a.createElement("p",{className:"hintPara"},"(Hint: only alphabets and space allowed. no numbers or special characters allowed)"),s.a.createElement(K.a,{type:"text",name:"secretAName",id:"secretAId",placeholder:"Secret Answer",onChange:function(t){var a=e.state.addDetails;a.secretA=t.target.value,e.setState({addDetails:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.secretAErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.add.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleAddModal.bind(this)},"Cancel")))}},{key:"filterModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.filterModalDisplay,toggle:this.toggleFilterMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleFilterMatchModal.bind(this)},"Filter"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"fullNameId"},"Full Name"),s.a.createElement(K.a,{type:"select",name:"select",id:"fullNameId",onChange:function(t){var a=e.state.filterDetails;a.fullName=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.filterPlayerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.full_name},e.full_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"emailId"},"Email ID"),s.a.createElement(K.a,{type:"select",name:"select",id:"emailId",onChange:function(t){var a=e.state.filterDetails;a.emailId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.filterPlayerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.email_id},e.email_id)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectTeamId"},"Team"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectTeamId",onChange:function(t){var a=e.state.filterDetails;a.teamId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.team_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectRoleId"},"Role"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectRoleId",onChange:function(t){var a=e.state.filterDetails;a.roleId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.userRoleList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.role)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.filterData.bind(this)},"Filter")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleFilterMatchModal.bind(this)},"Cancel")))}},{key:"editModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.editModalDisplay,toggle:this.toggleEditModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleEditModal.bind(this)},"Edit Player Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{className:"labelRequired",for:"firstNameId"},"First Name")),s.a.createElement(K.a,{type:"text",name:"firstName",id:"firstNameId",value:this.state.modalData.firstName,onChange:function(t){var a=e.state.modalData;a.firstName=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.firstNameErrMsg)),s.a.createElement(Z.a,null,s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{for:"middleNameId"},"Middle Name")),s.a.createElement(K.a,{type:"text",name:"middleName",id:"middleNameId",value:this.state.modalData.middleName,onChange:function(t){var a=e.state.modalData;a.middleName=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.middleNameErrMsg)),s.a.createElement(Z.a,null,s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{for:"lastNameId"},"Last Name")),s.a.createElement(K.a,{type:"text",name:"lastName",id:"lastNameId",value:this.state.modalData.lastName,onChange:function(t){var a=e.state.modalData;a.lastName=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.lastNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{className:"labelRequired",for:"emailId"},"Email ID")),s.a.createElement(K.a,{type:"text",name:"email",id:"emailId",value:this.state.modalData.emailId,onChange:function(t){var a=e.state.modalData;a.emailId=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.emailIdErrMsg)),s.a.createElement(Z.a,null,s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{for:"selectTeamNameId"},"Team")),s.a.createElement(K.a,{type:"select",name:"selectTeam",id:"selectTeamNameId",value:this.state.modalData.teamName,onChange:function(t){var a=e.state.modalData;a.teamName=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.teamName),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.teamList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.team_name},e.team_name)})))),s.a.createElement(Z.a,null,s.a.createElement("div",{className:"inLine"},s.a.createElement($.a,{for:"phoneId"},"Phone"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. +19999999999 / +919999999999 / 9999999999)")),s.a.createElement(K.a,{type:"text",name:"phoneName",id:"phoneId",value:this.state.modalData.phone,onChange:function(t){var a=e.state.modalData;a.phone=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.phoneErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.update.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleEditModal.bind(this)},"Cancel")))}},{key:"deleteModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteModalDisplay,toggle:this.toggleDeleteModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this team? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"First Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.firstName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Middle Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.middleName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Last Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.lastName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Email ID: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.emailId)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Team: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.teamName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Phone: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.phone))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.delete.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteModal.bind(this)},"Cancel")))}},{key:"addBtn",value:function(){if(this.state.showAdd)return s.a.createElement("div",null,s.a.createElement(J.a,{color:"primary",className:"mb-2",onClick:this.toggleAddModal.bind(this)},"Add New Player"))}},{key:"filterBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.toggleFilterMatchModal.bind(this)},"Filter"))}},{key:"componentDidMount",value:function(){var e=this;this.adminUser(),T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data,filterPlayerList:t.data})})),T.a.get("/api/get/userrolelist").then((function(t){e.setState({userRoleList:t.data})})),T.a.get("/api/get/secretquestionlist").then((function(t){e.setState({secretQList:t.data})}))}},{key:"render",value:function(){return this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,null),s.a.createElement("div",{className:"container"},this.addModal(),this.editModal(),this.deleteModal(),this.filterModal(),s.a.createElement("h1",{className:"pageHead"},this.props.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"add-filter-btn"},this.filterBtn(),this.addBtn()),s.a.createElement(Ne.a,{bordered:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,(this.state.showEdit&&"Edit"!==this.state.colHead.slice(-1)[0]&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Edit"),this.state.showDelete&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Delete"),this.tbl.createHeader(this.state.colHead)))),s.a.createElement("tbody",null,this.formatRows(this.state.playerList,this.state.teamList,this.state.columns)))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),qe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).photoAlert=function(){return""!==a.state.msgPhoto?s.a.createElement(B.a,{color:"danger"},a.state.msgPhoto):null},a.setImageVariable=function(){T.a.get("/api/get/images3/",{params:{email_id:a.state.playerEmailId}}).then((function(e){e.data.length>0&&(console.log("res.data"),console.log(e.data),a.setState({imageSrc:e.data[0].image_data,userAlreadyHasImage_id:e.data[0].id,userAlreadyHasImage_userId:e.data[0].user_id,isDefaultImage:0,msgPhoto:""}))}))},a.updateImageForExistingUser=function(e,t){console.log("in updateImageForExistingUser"),e.append("id",a.state.userAlreadyHasImage_id),e.append("old_image_data",a.state.imageSrc),console.log(e),T.a.post("/api/post/imageupdates3",e).then((function(e){console.log("res from React code using update"),console.log(e),a.setImageVariable(t)}))},a.fileChangeHandler=function(e){var t=a.state.addPhotoDetails;t.user_id=a.state.player[0].id;var l=(new Date).toUTCString();t.created=l,t.last_modified=l,t.image=e.target.files[0],a.setState({addPhotoDetails:t})},a.fileUpload=function(e){var t=a.state.addPhotoDetails;if(console.log("addPhotoDetails.image.type"),console.log(t.image.type),a.state.imageType.every((function(e){return t.image.type!==e})))a.setState({msgPhoto:"this is not a image (jpg|jpeg|png|gif) file"});else if(t.image.size>a.state.imageSize)a.setState({msgPhoto:"max size limit 500kb. please upload a smaller file"});else{var l=new FormData;l.append("file",t.image),l.append("user_id",t.user_id),l.append("created",t.created),l.append("last_modified",t.last_modified),a.state.isDefaultImage?T.a.post("/api/post/newimages3",l).then((function(e){a.setImageVariable(t.image)})):a.updateImageForExistingUser(l,t.image)}},a.showImage=function(e){return""!==e?s.a.createElement("img",{src:e,alt:"CRICEXTRA",className:"playerImage"}):s.a.createElement("img",{src:te.a,alt:"CRICEXTRA",className:"playerImage"})},a.state={playerEmailId:a.props.playerEmailId,userEmail:a.props.userEmail,header:a.props.header,player:[],teamList:[],playerList:[],userRoleList:[],secretQList:[],imageList:[],imageSrc:"",userAlreadyHasImage_id:null,userAlreadyHasImage_userId:null,isDefaultImage:1,selectedPhoto:null,loaded:0,addPhotoDetails:{user_id:null,image:null,created:"",last_modified:""},msgPhoto:"",imageType:["image/jpg","image/jpeg","image/gif","image/png"],imageSize:5e5,showEdit:"admin@myemail.com"===a.props.userEmail.toLowerCase()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"verticalTable",value:function(e){return Object.keys(e[0]).map((function(t){return s.a.createElement("tr",{key:t},s.a.createElement("th",null,t),s.a.createElement("td",null,e[0][t]))}))}},{key:"componentDidMount",value:function(){var e=this;T.a.get("/api/get/teamlist").then((function(t){e.setState({teamList:t.data})})),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data,player:t.data.filter((function(t){return t.email_id.toLowerCase()===e.state.playerEmailId.toLowerCase()}))})})),T.a.get("/api/get/userrolelist").then((function(t){e.setState({userRoleList:t.data})})),T.a.get("/api/get/secretquestionlist").then((function(t){e.setState({secretQList:t.data})})),T.a.get("/api/get/images3/",{params:{email_id:this.state.playerEmailId}}).then((function(t){t.data.length>0&&e.setState({imageSrc:t.data[0].image_data,userAlreadyHasImage_id:t.data[0].id,userAlreadyHasImage_userId:t.data[0].user_id,isDefaultImage:0})})),this.state.userEmail.toLowerCase()===this.state.playerEmailId.toLowerCase()&&this.setState({showEdit:!0})}},{key:"render",value:function(){return this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement("div",{className:"container playerDetailsTbl"},s.a.createElement("h1",{className:"pageHead"},this.props.header),s.a.createElement("div",{className:"inlineParent"},s.a.createElement("div",{className:"inlineChild"},this.showImage(this.state.imageSrc),this.state.showEdit?s.a.createElement("div",null,s.a.createElement("div",{className:"form-group files"},s.a.createElement("label",null,"Upload Your File "),s.a.createElement("input",{type:"file",className:"form-control",multiple:"",name:"fileName",onChange:this.fileChangeHandler})),s.a.createElement(this.photoAlert,null),s.a.createElement("button",{onClick:this.fileUpload},"Upload")):null),s.a.createElement("table",{className:"inlineChild"},s.a.createElement("tbody",null,0===this.state.player.length?null:this.verticalTable(this.state.player))))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Le=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Player List",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.match.params.playerEmailId&&""!==this.props.match.params.playerEmailId?s.a.createElement(qe,{header:"Player Details",userEmail:this.state.userEmail,playerEmailId:this.props.match.params.playerEmailId}):s.a.createElement(we,{header:this.state.header,userEmail:this.state.userEmail})}}]),t}(l.Component),_e=Object(h.g)(Le),Te=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({venueNameErrMsg:"",streetErrMsg:"",cityErrMsg:"",stateErrMsg:"",zipErrMsg:"",countryErrMsg:"",addDetails:{venueName:"",street:"",city:"",state:"",zip:"",country:""},filterDetails:{city:"",state:"",zip:"",country:""}})},a.validate=function(e){var t="",l="",s="",n="",i="",r="";return e.venueName=e.venueName.trim(),e.street=e.street.trim(),e.city=e.city.trim(),e.state=e.state.trim(),e.zip=e.zip.trim(),e.country=e.country.trim(),a.state.modalDataOriginal.venueName===e.venueName&&""!==a.state.modalDataOriginal.venueName||(console.log(e.venueName),a.hasValue(e.venueName)||(t="Venue cannot be blank")),a.hasValue(e.street)||(l="Street cannot be blank"),a.hasValue(e.city)||(s="city cannot be blank"),e.state&&"--Select--"!==e.state||(n="please select a state"),a.state.modalDataOriginal.zip===e.zip&&""!==a.state.modalDataOriginal.zip||a.hasValue(e.zip)||(i="city cannot be blank"),e.country&&"--Select--"!==e.country||(r="please select a country"),!(t||l||s||n||i||r)||(a.setState({venueNameErrMsg:t,streetErrMsg:l,cityErrMsg:s,stateErrMsg:n,zipErrMsg:i,countryErrMsg:r}),!1)},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnAddChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.addDetails;n[l]=s,a.setState({addDetails:n})},a.handleOnViewAllClick=function(){a.setState({venueList:a.state.filterVenueList})},a.state={userEmail:a.props.userEmail,colHead:["Venue Name","Street","City","State","Zip","Country"],columns:["venue_name","street","city","state","zip","country"],editModalDisplay:!1,deleteModalDisplay:!1,addModalDisplay:!1,filterModalDisplay:!1,countryStateList:[],countryList:[],venueList:[],filterVenueList:[],cityList:[],zipList:[],addDetails:{venueName:"",street:"",city:"",state:"",zip:"",country:""},filterDetails:{city:"",state:"",zip:"",country:""},editDetails:{id:null,venueName:"",street:"",city:"",state:"",zip:"",country:""},modalData:{id:null,venueName:"",street:"",city:"",state:"",zip:"",country:""},modalDataOriginal:{id:null,venueName:"",street:"",city:"",state:"",zip:"",country:""},venueNameErrMsg:"",streetErrMsg:"",cityErrMsg:"",stateErrMsg:"",zipErrMsg:"",countryErrMsg:"",msg:"",addMsg:"New Venue added successfully!",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page. Error code: ",updateMsg:"Venue details updated successfully",delMsg:"Venue deleted!",showAdd:!1,showEdit:!1,showDelete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adminUser",value:function(){"admin@myemail.com"===this.state.userEmail&&this.setState({showAdd:!0,showEdit:!0,showDelete:!0})}},{key:"toggleEditModal",value:function(){this.setState((function(e){return{editModalDisplay:!e.editModalDisplay}})),this.resetStates()}},{key:"toggleDeleteModal",value:function(){this.setState((function(e){return{deleteModalDisplay:!e.deleteModalDisplay}})),this.resetStates()}},{key:"toggleAddModal",value:function(){this.setState((function(e){return{addModalDisplay:!e.addModalDisplay}})),this.resetStates()}},{key:"toggleFilterMatchModal",value:function(){this.setState((function(e){return{filterModalDisplay:!e.filterModalDisplay}})),this.resetStates()}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"setEditModalData",value:function(e,t,a,l,s,n,i){this.setState({modalData:{id:e,venueName:t,street:a,city:l,state:s,zip:n,country:i},modalDataOriginal:{id:e,venueName:t,street:a,city:l,state:s,zip:n,country:i}}),this.toggleEditModal()}},{key:"setDeleteModalData",value:function(e,t,a,l,s,n,i){this.setState({modalData:{id:e,venueName:t,street:a,city:l,state:s,zip:n,country:i}}),this.toggleDeleteModal()}},{key:"update",value:function(){var e=this;if(this.validate(this.state.modalData)){var t=this.state.modalData,a=this.state.editDetails;a.id=t.id,a.venueName=t.venueName,a.street=t.street,a.city=t.city,a.state=t.state,a.zip=t.zip,a.country=t.country,this.setState({editDetails:a}),console.log(this.state.modalData),console.log(this.state.editDetails),T.a.put("/api/put/venue",this.state.editDetails).then((function(t){e.setState({msg:200===t.status?e.state.updateMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/venuelist").then((function(t){e.setState({venueList:t.data})})),e.toggleEditModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t.request.status+". "+t.request.responseText}),e.toggleEditModal()}))}}},{key:"delete",value:function(){var e=this;T.a.delete("/api/delete/venue",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.delMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/venuelist").then((function(t){e.setState({venueList:t.data})})),e.toggleDeleteModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteModal()}))}},{key:"add",value:function(){var e=this;this.validate(this.state.addDetails)&&T.a.post("/api/post/newvenue",this.state.addDetails).then((function(t){e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/venuelist").then((function(t){e.setState({venueList:t.data})})),e.toggleAddModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleAddModal()}))}},{key:"filterData",value:function(){var e=this;T.a.get("/api/get/venue/",{params:{city:this.state.filterDetails.city,state:this.state.filterDetails.state,zip:this.state.filterDetails.zip,country:this.state.filterDetails.country}}).then((function(t){e.setState({venueList:t.data}),e.toggleFilterMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleFilterMatchModal()}))}},{key:"td",value:function(e,t){return t.map((function(t,a){var l="",n="";return"venue_name"===t&&(l="/api/get/venue/"+e.id.toString(),n="tdLink"),s.a.createElement("td",{key:a},s.a.createElement("a",{className:n,href:l},e[t]))}))}},{key:"formatRows",value:function(e,t){var a=this;return e.map((function(e){return s.a.createElement("tr",{key:e.id,className:"trTbl"},a.td(e,t),a.state.showEdit?s.a.createElement("td",null,s.a.createElement(J.a,{color:"info",className:"mr-1",size:"sm",onClick:a.setEditModalData.bind(a,e.id,e.venue_name,e.street,e.city,e.state,e.zip,e.country)},"Edit")):null,a.state.showDelete?s.a.createElement("td",null,s.a.createElement(J.a,{color:"danger",size:"sm",onClick:a.setDeleteModalData.bind(a,e.id,e.venue_name,e.street,e.city,e.state,e.zip,e.country)},"Delete")):null)}))}},{key:"onlyUnique",value:function(e,t,a){return a.indexOf(e)===t}},{key:"addModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.addModalDisplay,toggle:this.toggleAddModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleAddModal.bind(this)},"Add Venue Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"venueId"},"Venue"),s.a.createElement(K.a,{type:"text",name:"venueName",id:"venueId",placeholder:"Venue Name",onChange:this.handleOnAddChange}),s.a.createElement("p",{className:"validationMsg"},this.state.venueNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"streetId"},"Street"),s.a.createElement(K.a,{type:"text",name:"street",id:"streetId",placeholder:"Street",onChange:this.handleOnAddChange}),s.a.createElement("p",{className:"validationMsg"},this.state.streetErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"cityId"},"City"),s.a.createElement(K.a,{type:"text",name:"city",id:"cityId",placeholder:"City",onChange:this.handleOnAddChange}),s.a.createElement("p",{className:"validationMsg"},this.state.cityErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectStateId"},"State"),s.a.createElement(K.a,{type:"select",name:"state",id:"selectStateId",onChange:this.handleOnAddChange},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),""!==this.state.addDetails.country?this.state.countryStateList.filter((function(t){return t.country_name===e.state.addDetails.country})).map((function(e){return s.a.createElement("option",{key:e.id,value:e.state_name},e.state_name)})):this.state.countryStateList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.state_name},e.state_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.stateErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"zipId"},"ZIP/Postal Code"),s.a.createElement(K.a,{type:"text",name:"zip",id:"zipId",placeholder:"ZIP/Postal Code",onChange:this.handleOnAddChange}),s.a.createElement("p",{className:"validationMsg"},this.state.zipErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{className:"labelRequired",for:"selectCountryId"},"Country"),s.a.createElement(K.a,{type:"select",name:"country",id:"selectCountryId",onChange:this.handleOnAddChange},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.countryList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.country_name},e.country_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.countryErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.add.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleAddModal.bind(this)},"Cancel")))}},{key:"filterModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.filterModalDisplay,toggle:this.toggleFilterMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleFilterMatchModal.bind(this)},"Filter"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"cityId"},"City"),s.a.createElement(K.a,{type:"select",name:"select",id:"cityId",onChange:function(t){var a=e.state.filterDetails;a.city=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.cityList.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"stateId"},"State"),s.a.createElement(K.a,{type:"select",name:"select",id:"stateId",onChange:function(t){var a=e.state.filterDetails;a.state=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.countryStateList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.state_name},e.state_name)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"zipId"},"ZIP/Postal Code"),s.a.createElement(K.a,{type:"select",name:"select",id:"zipId",onChange:function(t){var a=e.state.filterDetails;a.zip=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.zipList.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"selectCountryId"},"Country"),s.a.createElement(K.a,{type:"select",name:"select",id:"selectCountryId",onChange:function(t){var a=e.state.filterDetails;a.country=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.countryList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.country_name},e.country_name)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.filterData.bind(this)},"Filter")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleFilterMatchModal.bind(this)},"Cancel")))}},{key:"editModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.editModalDisplay,toggle:this.toggleEditModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleEditModal.bind(this)},"Edit Venue Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"venueNameId"},"Venue Name"),s.a.createElement(K.a,{type:"text",name:"venueName",id:"venueNameId",value:this.state.modalData.venueName,onChange:function(t){var a=e.state.modalData;a.venueName=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.venueNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"streetId"},"Street"),s.a.createElement(K.a,{type:"text",name:"streetName",id:"streetId",value:this.state.modalData.street,onChange:function(t){var a=e.state.modalData;a.street=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.streetNameErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"cityId"},"City"),s.a.createElement(K.a,{type:"text",name:"city",id:"cityId",value:this.state.modalData.city,onChange:function(t){var a=e.state.modalData;a.city=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.cityErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectStateId"},"State"),s.a.createElement(K.a,{type:"select",name:"selectState",id:"selectStateId",value:this.state.modalData.state,onChange:function(t){var a=e.state.modalData;a.state=t.target.value,e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.countryStateList.filter((function(t){return t.country_name===e.state.modalData.country})).includes(this.state.modalData.state)?this.state.modalData.state:"--Select--"),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.countryStateList.filter((function(t){return t.country_name===e.state.modalData.country})).map((function(e){return s.a.createElement("option",{key:e.id,value:e.state_name},e.state_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.stateErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"zipId"},"Zip/Postal Code"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. 799004 / 85032 / 9999999999)"),s.a.createElement(K.a,{type:"text",name:"zipName",id:"zipId",value:this.state.modalData.zip,onChange:function(t){var a=e.state.modalData;a.zip=t.target.value,e.setState({modalData:a})}}),s.a.createElement("p",{className:"validationMsg"},this.state.zipErrMsg)),s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectCountryId"},"Country"),s.a.createElement(K.a,{type:"select",name:"country",id:"selectCountryId",value:this.state.modalData.country,onChange:function(t){var a=e.state.modalData;a.country=t.target.value,a.state="--Select--",e.setState({modalData:a})}},s.a.createElement("option",{key:this.state.modalData.id},this.state.modalData.country),s.a.createElement("option",{disabled:!0,className:"optionCls"}),this.state.countryList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.country_name},e.country_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.countryErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.update.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleEditModal.bind(this)},"Cancel")))}},{key:"deleteModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteModalDisplay,toggle:this.toggleDeleteModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this team? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Venue Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.venueName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Street: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.street)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"City: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.city)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"State: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.state)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Zip: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.zip)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Country: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.country))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.delete.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteModal.bind(this)},"Cancel")))}},{key:"addBtn",value:function(){if(this.state.showAdd)return s.a.createElement("div",null,s.a.createElement(J.a,{color:"primary",className:"mb-2",onClick:this.toggleAddModal.bind(this)},"Add New Venue"))}},{key:"filterBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.toggleFilterMatchModal.bind(this)},"Filter"))}},{key:"viewAllBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.handleOnViewAllClick},"View All"))}},{key:"componentDidMount",value:function(){var e=this;this.adminUser(),T.a.get("/api/get/countrystatelist").then((function(t){e.setState({countryStateList:t.data})})),T.a.get("/api/get/countrylist").then((function(t){e.setState({countryList:t.data})})),T.a.get("/api/get/venuelist").then((function(t){e.setState({venueList:t.data,filterVenueList:t.data,cityList:t.data.map((function(e){return e.city})).filter((function(e){return null!==e})).filter((function(e){return"null"!==e})).filter((function(e){return""!==e})).filter(e.onlyUnique),zipList:t.data.map((function(e){return e.zip})).filter((function(e){return null!==e})).filter((function(e){return"null"!==e})).filter((function(e){return""!==e})).filter(e.onlyUnique)})}))}},{key:"render",value:function(){return this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement("div",{className:"container"},this.addModal(),this.editModal(),this.deleteModal(),this.filterModal(),s.a.createElement("h1",{className:"pageHead"},this.props.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"add-filter-btn"},this.filterBtn(),this.viewAllBtn(),this.addBtn()),s.a.createElement(Ne.a,{bordered:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,(this.state.showEdit&&"Edit"!==this.state.colHead.slice(-1)[0]&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Edit"),this.state.showDelete&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Delete"),this.tbl.createHeader(this.state.colHead)))),s.a.createElement("tbody",null,this.formatRows(this.state.venueList,this.state.columns)))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Venue List",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Te,{header:this.state.header,userEmail:this.state.userEmail}))}}]),t}(l.Component),Pe=Object(h.g)(Oe),Re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({umpireNameErrMsg:"",addDetails:{userId:null},filterDetails:{userId:""}})},a.validate=function(e){var t="";return a.hasValue(e.userId)||(t="Please select a user as umpire"),0!==a.state.umpireList.filter((function(t){return t.user_id.toString()===e.userId})).length&&(t="User is already an umpire. Please select a different user"),!t||(a.setState({umpireNameErrMsg:t}),!1)},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnViewAllClick=function(){a.setState({umpireList:a.state.filterUmpireList})},a.state={userEmail:a.props.userEmail,colHead:["Umpire Id","Player Id","Umpire Name"],columns:["id","user_id","full_name"],editModalDisplay:!1,deleteModalDisplay:!1,addModalDisplay:!1,filterModalDisplay:!1,playerList:[],umpireList:[],filterUmpireList:[],addDetails:{userId:null},filterDetails:{userId:""},editDetails:{id:null,userId:null},modalData:{id:null,umpireName:"",userId:""},umpireNameErrMsg:"",msg:"",addMsg:"New Umpire added successfully!",errMsg:"Sorry we encountered an error. Please report below details to the admin using \n      Contact Us link at bottom of the page. Error code: ",updateMsg:"Umpire details updated successfully",delMsg:"Umpire deleted!",showAdd:!1,showDelete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adminUser",value:function(){"admin@myemail.com"===this.state.userEmail&&this.setState({showAdd:!0,showDelete:!0})}},{key:"toggleEditModal",value:function(){this.setState((function(e){return{editModalDisplay:!e.editModalDisplay}})),this.resetStates()}},{key:"toggleDeleteModal",value:function(){this.setState((function(e){return{deleteModalDisplay:!e.deleteModalDisplay}})),this.resetStates()}},{key:"toggleAddModal",value:function(){this.setState((function(e){return{addModalDisplay:!e.addModalDisplay}})),this.resetStates()}},{key:"toggleFilterMatchModal",value:function(){this.setState((function(e){return{filterModalDisplay:!e.filterModalDisplay}})),this.resetStates()}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"setEditModalData",value:function(e,t,a){this.setState({modalData:{id:e,umpireName:t,userId:a}}),this.toggleEditModal()}},{key:"setDeleteModalData",value:function(e,t,a){this.setState({modalData:{id:e,umpireName:t,userId:a}}),this.toggleDeleteModal()}},{key:"update",value:function(){var e=this;if(this.validate(this.state.modalData)){var t=this.state.modalData,a=this.state.editDetails;a.id=t.id,a.userId=this.state.playerList.filter((function(e){return e.full_name===t.umpireName}))[0].id,this.setState({editDetails:a}),console.log(this.state.modalData),console.log(this.state.editDetails),T.a.put("/api/put/umpire",this.state.editDetails).then((function(t){e.setState({msg:200===t.status?e.state.updateMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/umpirelist").then((function(t){e.setState({umpireList:t.data})})),e.toggleEditModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t.request.status+". "+t.request.responseText}),e.toggleEditModal()}))}}},{key:"delete",value:function(){var e=this;T.a.delete("/api/delete/umpire",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.delMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/umpirelist").then((function(t){e.setState({umpireList:t.data})})),e.toggleDeleteModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteModal()}))}},{key:"add",value:function(){var e=this;this.validate(this.state.addDetails)&&T.a.post("/api/post/newumpire",this.state.addDetails).then((function(t){e.setState({msg:200===t.status?e.state.addMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/umpirelist").then((function(t){e.setState({umpireList:t.data})})),e.toggleAddModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleAddModal()}))}},{key:"filterData",value:function(){var e=this;console.log(this.state.filterDetails.teamName),T.a.get("/api/get/umpire/",{params:{user_id:this.state.filterDetails.userId}}).then((function(t){e.setState({umpireList:t.data}),e.toggleFilterMatchModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleFilterMatchModal()}))}},{key:"td",value:function(e,t,a){return a.map((function(a,l){var n="",i="",r="";return"full_name"===a&&(t.length>0&&(r=t.filter((function(t){return t.full_name===e[a]}))[0].id.toString()),n="/api/get/player/"+r,i="tdLink"),s.a.createElement("td",{key:l},s.a.createElement("a",{className:i,href:n},e[a]))}))}},{key:"formatRows",value:function(e,t,a){var l=this;return e.map((function(e){return s.a.createElement("tr",{key:e.id,className:"trTbl"},l.td(e,t,a),l.state.showDelete?s.a.createElement("td",null,s.a.createElement(J.a,{color:"danger",size:"sm",onClick:l.setDeleteModalData.bind(l,e.id,e.user_id,e.full_name)},"Delete")):null)}))}},{key:"addModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.addModalDisplay,toggle:this.toggleAddModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleAddModal.bind(this)},"Add Umpire Details"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"selectUmpireId"},"Umpire Name"),s.a.createElement(K.a,{type:"select",name:"umpireName",id:"selectUmpireId",onChange:function(t){var a=e.state.addDetails;a.userId=t.target.value,e.setState({addDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.playerList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.full_name)}))),s.a.createElement("p",{className:"validationMsg"},this.state.umpireNameErrMsg)))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.add.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleAddModal.bind(this)},"Cancel")))}},{key:"filterModal",value:function(){var e=this;return s.a.createElement(Ee.a,{isOpen:this.state.filterModalDisplay,toggle:this.toggleFilterMatchModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleFilterMatchModal.bind(this)},"Filter"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,null,s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"umpireId"},"Umpire Name"),s.a.createElement(K.a,{type:"select",name:"select",id:"umpireId",onChange:function(t){var a=e.state.filterDetails;a.userId=t.target.value,e.setState({filterDetails:a})}},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select--"),this.state.filterUmpireList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.user_id},e.full_name)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.filterData.bind(this)},"Filter")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleFilterMatchModal.bind(this)},"Cancel")))}},{key:"deleteModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteModalDisplay,toggle:this.toggleDeleteModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this team? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Umpire Name: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.umpireName)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"User/Player Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.userId))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.delete.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteModal.bind(this)},"Cancel")))}},{key:"addBtn",value:function(){if(this.state.showAdd)return s.a.createElement("div",null,s.a.createElement(J.a,{color:"primary",className:"mb-2",onClick:this.toggleAddModal.bind(this)},"Add Umpire"))}},{key:"filterBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.toggleFilterMatchModal.bind(this)},"Filter"))}},{key:"viewAllBtn",value:function(){return s.a.createElement("div",null,s.a.createElement(J.a,{color:"info",className:"mb-2 mr-2",onClick:this.handleOnViewAllClick},"View All"))}},{key:"componentDidMount",value:function(){var e=this;this.adminUser(),T.a.get("/api/get/umpirelist").then((function(t){e.setState({umpireList:t.data,filterUmpireList:t.data})})),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data})}))}},{key:"render",value:function(){return this.tbl=new ge,s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement("div",{className:"container"},this.addModal(),this.deleteModal(),this.filterModal(),s.a.createElement("h1",{className:"pageHead"},this.props.header),s.a.createElement(this.alrt,null),s.a.createElement("div",{className:"add-filter-btn"},this.filterBtn(),this.viewAllBtn(),this.addBtn()),s.a.createElement(Ne.a,{bordered:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,(this.state.showDelete&&"Delete"!==this.state.colHead.slice(-1)[0]&&this.state.colHead.push("Delete"),this.tbl.createHeader(this.state.colHead)))),s.a.createElement("tbody",null,this.formatRows(this.state.umpireList,this.state.playerList,this.state.columns)))),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Umpire List",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Re,{header:this.state.header,userEmail:this.state.userEmail}))}}]),t}(l.Component),je=Object(h.g)(Ae),He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnSubmit=function(e){e.preventDefault(),a.validate(a.state.nameValues)&&T.a.post("/api/post/login",a.state.nameValues,{withCredentials:!0}).then((function(e){A.setTrue(),a.props.history.push({pathname:"/home",state:{userEmail:a.state.nameValues.nameEmail.toLowerCase()}})})).catch((function(e){a.setState({msg:a.state.errMsg+e})}))},a.handleOnChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.nameValues;n[l]=s,a.setState({nameValues:n})},a.validate=function(e){var t="",l="";return e.nameEmail=e.nameEmail.trim(),e.nameEmail&&!(e.nameEmail.length<1)&&isNaN(e.nameEmail)&&a.isValidEmail(e.nameEmail)||(t="Please enter a valid email id (your username)!"),a.hasValue(e.namePassword)||(l="password cannot be blank"),!t&&!l||(a.setState({emailIdErrMsg:t,passwordErrMsg:l}),!1)},a.state={nameValues:{nameEmail:"",namePassword:""},userLogin:[],msg:"",errMsg:"sorry wrong username/password combination",emailIdErrMsg:"",passwordErrMsg:"",fireRedirect:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"LoginForm",value:function(){return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row no-gutter"},s.a.createElement("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),s.a.createElement("div",{className:"col-md-8 col-lg-6"},s.a.createElement("div",{className:"login d-flex align-items-center py-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto"},s.a.createElement("h3",{className:"login-heading mb-4 login-h"},"Sign In"),s.a.createElement(this.alrt,null),s.a.createElement("form",{onSubmit:this.handleOnSubmit},s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0,name:"nameEmail",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputEmail"},"Username (your email)")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,name:"namePassword",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputPassword"},"Password"),s.a.createElement("p",{className:"validationMsg"},this.state.passwordErrMsg)),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit"},"Sign in"),s.a.createElement("div",{className:"text-center"},s.a.createElement("a",{className:"small",href:"/forgotPassword"},"Forgot password?"),s.a.createElement("br",null),s.a.createElement("a",{className:"small",href:"/register"},"New User? Register/Create Account"))))))))))}},{key:"isValidEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"render",value:function(){return s.a.createElement("div",null,this.LoginForm())}}]),t}(l.Component),xe=Object(h.g)(He),Ve=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnSubmit=function(e){if(e.preventDefault(),a.validate(a.state.nameValues)){var t=a.state.addDetails,l=a.state.nameValues;t.firstName=l.nameFirstname,t.lastName=l.nameMiddlename,t.middleName=l.nameLastname,t.emailId=l.nameEmail.toLowerCase(),t.password=l.namePassword,t.confirmPassword=l.nameConfirmPassword,t.secretQid=l.nameSecretQ,t.secretA=l.nameSecretA,t.teamId=null,t.fullName=t.firstName,a.hasValue(t.middleName)&&(t.fullName+=" "+t.middleName),a.hasValue(t.lastName)&&(t.fullName+=" "+t.lastName);var s=(new Date).toUTCString();t.created=s,t.modified=s,a.setState({addDetails:t}),T.a.post("/api/post/newplayer",a.state.addDetails).then((function(e){a.setState({msg:200===e.status?a.state.addMsg:"status code "+e.status+"\n"+a.state.errMsg}),window.location.href="/Home/".concat(a.state.addDetails.emailId)})).catch((function(e){a.setState({msg:a.state.errMsg+e})}))}},a.handleOnChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.nameValues;n[l]=s,a.setState({nameValues:n})},a.validate=function(e){var t="",l="",s="",n="",i="",r="",m="",o="";return e.nameFirstname=e.nameFirstname.trim(),e.nameEmail=e.nameEmail.trim(),e.nameFirstname&&!(e.nameFirstname.length<1)&&isNaN(e.nameFirstname)&&a.isValidName(e.nameFirstname)||(t="At least one alphabet is required. No special characters or numbers allowed"),a.hasValue(e.nameMiddlename)&&(e.nameMiddlename=e.nameMiddlename.trim(),isNaN(e.nameMiddlename)&&a.isValidName(e.nameMiddlename)||(l="No special characters or numbers allowed")),a.hasValue(e.nameLastname)&&(e.nameLastname=e.nameLastname.trim(),isNaN(e.nameLastname)&&a.isValidName(e.nameLastname)||(s="No special characters or numbers allowed")),!e.nameEmail||e.nameEmail.length<1||!isNaN(e.nameEmail)||!a.isValidEmail(e.nameEmail)?n="Please enter a valid email id!":a.state.playerList.filter((function(t){return t.email_id===e.nameEmail})).length>0&&(n=e.nameEmail+" is already taken. Please try a different email Id"),a.hasValue(e.namePassword)?(e.namePassword=e.namePassword.trim(),a.isValidPassword(e.namePassword)||(i="please enter a valid password")):i="password cannot be blank",a.hasValue(e.nameConfirmPassword)?(e.nameConfirmPassword=e.nameConfirmPassword.trim(),e.namePassword!==e.nameConfirmPassword&&(r="password should match")):r="confirm password field cannot be blank",a.hasValue(e.nameSecretQ)&&"--Select--"!==e.nameSecretQ||(m="please select a question"),a.hasValue(e.nameSecretA)?(e.nameSecretA=e.nameSecretA.trim(),a.isValidAnswer(e.nameSecretA)||(o="Only alphabates and space are allowed. No numbers, special characters allowed")):o="Please enter a answer",!(t||l||s||n||i||r||m||o)||(a.setState({firstNameErrMsg:t,middleNameErrMsg:l,lastNameErrMsg:s,emailIdErrMsg:n,passwordErrMsg:i,confirmPasswordErrMsg:r,secretQErrMsg:m,secretAErrMsg:o}),!1)},a.state={addDetails:{firstName:"",lastName:"",middleName:"",emailId:"",fullName:"",teamId:null,phone:null,password:"",secretQid:null,secretA:"",created:"",modified:""},nameValues:{nameFirstname:"",nameMiddlename:"",nameLastname:"",nameEmail:"",namePassword:"",nameConfirmPassword:"",nameSecretQ:"",nameSecretA:""},firstNameErrMsg:"",lastNameErrMsg:"",middleNameErrMsg:"",emailIdErrMsg:"",passwordErrMsg:"",confirmPasswordErrMsg:"",secretQErrMsg:"",secretAErrMsg:"",msg:"",secretQList:[],playerList:[],userLogin:[],userid:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"RegistrationForm",value:function(){return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row no-gutter"},s.a.createElement("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),s.a.createElement("div",{className:"col-md-8 col-lg-6"},s.a.createElement("div",{className:"login d-flex align-items-center py-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto"},s.a.createElement("h3",{className:"login-heading mb-4"},"Register"),s.a.createElement(this.alrt,null),s.a.createElement("form",{onSubmit:this.handleOnSubmit},s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"text",id:"inputFirstname",className:"form-control",placeholder:"First Name",required:!0,autoFocus:!0,name:"nameFirstname",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputFirstname"},"First Name"),s.a.createElement("p",{className:"validationMsg"},this.state.firstNameErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"text",id:"inputMiddlename",className:"form-control",placeholder:"Middle Name",autoFocus:!0,name:"nameMiddlename",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputMiddlename"},"Middle Name"),s.a.createElement("p",{className:"validationMsg"},this.state.middleNameErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"text",id:"inputLastname",className:"form-control",placeholder:"Last Name",autoFocus:!0,name:"nameLastname",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputLastname"},"Last Name"),s.a.createElement("p",{className:"validationMsg"},this.state.lastNameErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0,name:"nameEmail",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputEmail"},"Email address"),s.a.createElement("p",{className:"validationMsg"},this.state.emailIdErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,name:"namePassword",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputPassword"},"Password"),s.a.createElement("p",{className:"validationMsg"},this.state.passwordErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"password",id:"inputConfirmPassword",className:"form-control",placeholder:"Confirm Password",required:!0,name:"nameConfirmPassword",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputConfirmPassword"},"Confirm Password"),s.a.createElement("p",{className:"validationMsg"},this.state.confirmPasswordErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"select",id:"selectSecretQues",className:"form-control",required:!0,autoFocus:!0,name:"nameSecretQ",onChange:this.handleOnChange},s.a.createElement("option",{key:"0",value:"--Select--"},"--Select Secret Question--"),this.state.secretQList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.question)}))),s.a.createElement("p",{className:"validationMsg"},this.state.secretQErrMsg)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement(K.a,{type:"text",id:"inputSecretA",className:"form-control",placeholder:"Secret Answer",required:!0,name:"nameSecretA",onChange:this.handleOnChange}),s.a.createElement($.a,{for:"inputSecretA"},"Secret Answer"),s.a.createElement("p",{className:"validationMsg"},this.state.secretAErrMsg)),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit"},"Sign in"),s.a.createElement("div",{className:"text-center"},s.a.createElement("a",{className:"small",href:"/login"},"Existing User? Login Here"))))))))))}},{key:"isValidName",value:function(e){return e.match(/^[A-Za-z.\s]+$/i)}},{key:"isValidEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"isValidPhone",value:function(e){return/[0-9]+/.test(e)}},{key:"isValidPassword",value:function(e){return e.match(/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z])(?=.{6,})/)}},{key:"isValidAnswer",value:function(e){return e.match(/^[A-Za-z\s]+$/i)}},{key:"hasValue",value:function(e){return void 0!==e&&null!==e&&""!==e}},{key:"componentDidMount",value:function(){var e=this;T.a.get("/api/get/secretquestionlist").then((function(t){e.setState({secretQList:t.data})})),T.a.get("/api/get/playerlist").then((function(t){e.setState({playerList:t.data})}))}},{key:"render",value:function(){return this.RegistrationForm()}}]),t}(l.Component),Ue=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={userLoginList:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("/api/get/userloginlist").then((function(t){e.setState({userLoginList:t.data})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid fixed-top"},s.a.createElement("div",{className:"row no-gutter"},s.a.createElement("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),s.a.createElement("div",{className:"col-md-8 col-lg-6"},s.a.createElement("div",{className:"login d-flex align-items-center py-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto"},s.a.createElement("h3",{className:"login-heading mb-4"},"Sign In"),s.a.createElement("form",null,s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0}),s.a.createElement($.a,{for:"inputEmail"},"Email address")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),s.a.createElement($.a,{for:"inputPassword"},"Password")),s.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),s.a.createElement($.a,{className:"custom-control-label",for:"customCheck1"},"Remember password")),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit"},"Sign in"),s.a.createElement("div",{className:"text-center"},s.a.createElement("a",{className:"small",href:"/register"},"New User? Register/Create Account"))))))))))}}]),t}(l.Component),Fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"All Requests",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement(ie,{header:this.state.header,userEmail:this.state.userEmail}),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),ze=Object(h.g)(Fe),Be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"My Requests",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement(me,{header:this.state.header,userEmail:this.state.userEmail}),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Qe=Object(h.g)(Be),Ze=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Submit Request",userEmail:a.props.location.state.userEmail},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement(X,{header:this.state.header,userEmail:this.state.userEmail}),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),$e=Object(h.g)(Ze),Ke=a(62),Je=a.n(Ke),Ge=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).resetStates=function(){a.setState({msg:""})},a.alrt=function(){return""!==a.state.msg?s.a.createElement(B.a,{color:"info"},a.state.msg):null},a.handleOnChange=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.addComment;n[l]=s,a.setState({addComment:n})},a.onChangeEdit=function(e){e.preventDefault();var t=e.target,l=t.name,s=t.value,n=a.state.modalData;n[l]=s,a.setState({modalData:n})},a.state={userEmail:a.props.userEmail,requestData:a.props.requestData,msg:a.props.msg?a.props.msg:"",user:a.props.user,comments:[],commentList:[],requestTemplateList:[],sportTypeList:[],requestStatusList:[],matchList:[],userImageDataList:[],header:"Request Details",addComment:{requestId:"",comment:"",userId:"",created:"",lastModified:""},addToCommentList:{id:null,request_id:null,comment:"",user_id:null,full_name:"",email_id:"",created:"",last_modified:""},modalDataComment:{id:null,request_id:null,comment:"",user_id:null,full_name:"",email_id:"",created:"",last_modified:""},editedCommentData:{id:null,request_id:null,comment:"",user_id:null,full_name:"",email_id:"",created:"",last_modified:""},editRequestModalDisplay:!1,deleteRequestModalDisplay:!1,editCommentModalDisplay:!1,deleteCommentModalDisplay:!1,modalData:{id:null,title:"",description:"",requestStatus:"",sportType:"",address:"",date:"",time:"",matchId:""},modalDataOriginal:{id:null,title:"",description:"",requestStatus:"",sportType:"",address:"",date:"",time:"",matchId:""},editRequestData:{id:null,title:"",requestTemplateId:null,description:"",requestorId:null,requestStatusId:null,sportType:"",address:"",date:"",time:"",matchId:null,lastModified:""},editRequestDataToUpdate:{id:null,title:"",request_template:null,description:"",requestor:null,email_id:"",phone_no:"",request_status:null,sport_type:"",address:"",date:"",time:"",match_id:null,created:"",last_modified:""},originalComment:"",addCommentMsg:"comment added!",errMsg:"error!",updateRequestMsg:"request updated!",deleteRequestMsg:"request deleted!",updateCommentMsg:"comment updated!",deleteCommentMsg:"comment deleted!",showEditRequest:!1,showEditComment:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleKeyDown",value:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight+10,"px"),e.target.style.height="".concat(Math.min(e.target.scrollHeight,130),"px")}},{key:"resetForm",value:function(){document.getElementById("formId").reset()}},{key:"toggleEditRequestModal",value:function(){this.setState((function(e){return{editRequestModalDisplay:!e.editRequestModalDisplay}})),this.resetStates()}},{key:"toggleDeleteRequestModal",value:function(){this.setState((function(e){return{deleteRequestModalDisplay:!e.deleteRequestModalDisplay}})),this.resetStates()}},{key:"toggleEditCommentModal",value:function(e){var t="input"+e.id,a="div"+e.id,l="divAction"+e.id,s=document.getElementById(a),n=document.getElementById(t),i=document.getElementById(l);"block"===s.style.display?s.style.display="none":s.style.display="block","block"===n.style.display?n.style.display="none":n.style.display="block","block"===i.style.display?i.style.display="none":i.style.display="block",this.resetStates()}},{key:"toggleDeleteCommentModal",value:function(){this.setState((function(e){return{deleteCommentModalDisplay:!e.deleteCommentModalDisplay}})),this.resetStates()}},{key:"setEditRequestModalData",value:function(e,t,a,l,s,n,i,r,m){this.setState({modalData:{id:e,title:t,description:a,requestStatus:l,sportType:s,address:n,date:i,time:r,matchId:m},modalDataOriginal:{id:e,title:t,description:a,requestStatus:l,sportType:s,address:n,date:i,time:r,matchId:m}}),this.toggleEditRequestModal()}},{key:"setDeleteRequestModalData",value:function(e,t,a,l,s,n,i,r,m){this.setState({modalData:{id:e,title:t,description:a,requestStatus:l,sportType:s,address:n,date:i,time:r,matchId:m}}),this.toggleDeleteRequestModal()}},{key:"editRequestModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.editRequestModalDisplay,toggle:this.toggleEditRequestModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleEditRequestModal.bind(this)},"Edit Request"),s.a.createElement(ve.a,null,s.a.createElement(Q.a,{id:"formEditId"},s.a.createElement(Z.a,{className:"formRequired"},s.a.createElement($.a,{className:"labelRequired",for:"titleId"},"Title"),s.a.createElement(K.a,{type:"text",name:"title",id:"titleId",list:"requesttemplate",value:this.state.modalData.title,onChange:this.onChangeEdit}),s.a.createElement("datalist",{id:"requesttemplate"},this.state.requestTemplateList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.request_template},e.request_template)}))),s.a.createElement("p",{className:"validationMsg"},this.state.titleErrMsg)),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"descriptionId"},"Description"),s.a.createElement(K.a,{type:"textarea",name:"description",id:"descriptionId",value:this.state.modalData.description,onChange:this.onChangeEdit})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"requestStatusId"},"Status"),s.a.createElement(K.a,{type:"select",name:"requestStatus",id:"requestStatusId",value:this.state.modalData.requestStatus,onChange:this.onChangeEdit},s.a.createElement("option",{key:"0"},"--Select--"),this.state.requestStatusList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.request_status},e.request_status)})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"sporttypedid"},"Sport"),s.a.createElement(K.a,{type:"text",name:"sportType",id:"sporttypedid",list:"sporttype",value:this.state.modalData.sportType,onChange:this.onChangeEdit}),s.a.createElement("datalist",{id:"sporttype"},this.state.sportTypeList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.sport_type})})))),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"addressid"},"Address"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. deer valley community park)"),s.a.createElement(K.a,{type:"text",name:"address",id:"addressid",value:this.state.modalData.address,onChange:this.onChangeEdit})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"dateId"},"Date"),s.a.createElement(K.a,{type:"date",name:"date",id:"dateId",value:this.state.modalData.date,onChange:this.onChangeEdit})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"timeId"},"Time"),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. 6pm/6-7pm/around 6-6:30pm/etc.)"),s.a.createElement(K.a,{type:"text",name:"time",id:"timeId",value:this.state.modalData.time,onChange:this.onChangeEdit})),s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"matchid"},"Match reference"," "),s.a.createElement("p",{className:"hintPara"},"(Hint: e.g. refer a match for which you need umpire - if you have one)"),s.a.createElement(K.a,{type:"select",name:"matchId",id:"matchid",value:this.state.modalData.matchId,onChange:this.onChangeEdit},s.a.createElement("option",{key:"0"},"--Select--"),this.state.matchList.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.id)})))))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"primary",onClick:this.update.bind(this)},"Save")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleEditRequestModal.bind(this)},"Cancel")))}},{key:"deleteRequestModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteRequestModalDisplay,toggle:this.toggleDeleteRequestModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteRequestModal.bind(this)},"Delete"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this request? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Title: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.title)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Description: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.description)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Sport: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.sportType)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Address: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.address)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Date: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.date)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Time: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.time)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Reference Match: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalData.matchId))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.delete.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteRequestModal.bind(this)},"Cancel")))}},{key:"addCommentFunc",value:function(e){var t=this,a=this.state.addComment;if(a.comment.length>0){a.requestId=e,a.userId=this.state.user[0].id;var l=(new Date).toUTCString();a.created=l,a.lastModified=l,this.setState({addComment:a}),T.a.post("/api/post/newcomment",this.state.addComment).then((function(e){t.setState({msg:200===e.status?t.state.addCommentMsg:"status code "+e.status+"\n"+t.state.errMsg}),T.a.get("/api/get/requestcommentlist").then((function(e){t.setState({commentList:e.data,comments:e.data.filter((function(e){return e.request_id===t.state.requestData[0].id}))})})),t.resetForm()})).catch((function(e){t.setState({msg:t.state.errMsg+e})}))}}},{key:"update",value:function(){var e=this,t=this.state.editRequestData,a=this.state.modalData,l=this.state.modalDataOriginal,s=this.state.editRequestDataToUpdate,n=this.state.requestData,i=[];if(JSON.stringify(a)===JSON.stringify(l))console.log("same");else{t.id=a.id,t.title=a.title,t.description=a.description,t.sportType=a.sportType,t.address=a.address,t.date=a.date,t.time=a.time;var r=this.state.requestTemplateList.filter((function(e){return e.request_template===a.title}));r.length>0&&(t.requestTemplateId=r[0].id),t.requestTemplateId=Number(t.requestTemplateId),t.requestorId=this.state.user[0].id,t.requestorId=Number(t.requestorId),t.requestStatusId=this.state.requestStatusList.filter((function(e){return e.requestStatusId===a.requestStatusId}))[0].id,"--Select--"===a.matchId?t.matchId=null:t.matchId=a.matchId;var m=(new Date).toUTCString();t.lastModified=m,this.setState({editRequestData:t}),T.a.put("/api/put/request",this.state.editRequestData).then((function(t){e.setState({msg:200===t.status?e.state.updateRequestMsg:"status code "+t.status+"\n"+e.state.errRequestMsg}),s.title=a.title,s.description=a.description,s.sport_type=a.sportType,s.address=a.address,s.request_status=a.request_status,s.date=a.date,s.time=a.time,s.match_id=a.matchId,s.id=n[0].id,s.requestor=n[0].requestor,s.email_id=n[0].email_id,s.phone_no=n[0].phone_no,s.created=n[0].created,r.length>0&&(s.request_template=a.title),s.lastModified=m,i.push(s),e.setState({requestData:i})})).catch((function(t){e.setState({msg:e.state.errMsg+t})}))}this.toggleEditRequestModal()}},{key:"delete",value:function(){var e=this;T.a.delete("/api/delete/request",{data:this.state.modalData.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){return e.setState({msg:200===t.status?e.state.deleteRequestMsg:"status code "+t.status+"\n"+e.state.errMsg}),console.log("before return"),e.props.history.push({pathname:"/allRequest",state:{userEmail:e.state.userEmail}})})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteRequestModal()}))}},{key:"updateComment",value:function(){var e=this,t=(new Date).toUTCString(),a=this.state.modalDataComment;a.last_modified=t,this.setState({modalDataComment:a}),console.log(this.state.modalDataComment),T.a.put("/api/put/comment",this.state.modalDataComment).then((function(t){e.setState({msg:200===t.status?e.state.updateCommentMsg:"status code "+t.status+"\n"+e.state.errRequestMsg}),e.toggleEditCommentModal(a);var l=e.state.comments;l[l.findIndex((function(e){return e.id===a.id}))]=a,e.setState({comments:l})})).catch((function(t){e.setState({msg:e.state.errMsg+t})}))}},{key:"cancelEditComment",value:function(e){var t="div"+e.id;document.getElementById(t).innerHTML=this.state.originalComment,this.toggleEditCommentModal(e)}},{key:"setEditCommentModalData",value:function(e){this.setState({modalDataComment:e,originalComment:e.comment});var t="input"+e.id,a="div"+e.id,l="divAction"+e.id;document.getElementById(a).style.display="none",document.getElementById(l).style.display="block",document.getElementById(t).style.display="block"}},{key:"setDeleteCommentModalData",value:function(e){this.setState({modalDataComment:e}),this.toggleDeleteCommentModal()}},{key:"deleteCommentModal",value:function(){return s.a.createElement(Ee.a,{isOpen:this.state.deleteCommentModalDisplay,toggle:this.toggleDeleteCommentModal.bind(this)},s.a.createElement(fe.a,{toggle:this.toggleDeleteCommentModal.bind(this)},"Delete Comment"),s.a.createElement(ve.a,null,s.a.createElement("h6",{className:"colorRed"},"Do you want to delete this comment? It cannot be recovered after deletion"),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Id: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalDataComment.id)),s.a.createElement("p",{className:"modalPara"},s.a.createElement("span",{className:"modalParaHeadSpan"},"Comment: "),s.a.createElement("span",{className:"modalParaDataSpan"},this.state.modalDataComment.comment))),s.a.createElement(ye.a,null,s.a.createElement(J.a,{color:"warning",onClick:this.deleteCommentFunc.bind(this)},"Confirm Delete")," ",s.a.createElement(J.a,{color:"secondary",onClick:this.toggleDeleteCommentModal.bind(this)},"Cancel")))}},{key:"deleteCommentFunc",value:function(){var e=this;T.a.delete("/api/delete/comment",{data:this.state.modalDataComment.id},{headers:{"Content-Type":"text/plain"}}).then((function(t){e.setState({msg:200===t.status?e.state.deleteCommentMsg:"status code "+t.status+"\n"+e.state.errMsg}),T.a.get("/api/get/requestcommentlist").then((function(t){e.setState({commentList:t.data,comments:t.data.filter((function(t){return t.request_id===e.state.requestData[0].id}))})})),e.toggleDeleteCommentModal()})).catch((function(t){e.setState({msg:e.state.errMsg+t}),e.toggleDeleteRequestModal()}))}},{key:"dateConvert",value:function(e){var t=new Date(e);return(new Date).toDateString()===t.toDateString()?t.toLocaleTimeString().slice(0,4)+" "+t.toLocaleTimeString().split(" ")[1]:t.toDateString().split(" ")[1]+" "+t.toDateString().split(" ")[2]}},{key:"displayRequest",value:function(e){return s.a.createElement("div",{key:e.id,className:"disp-div"},s.a.createElement("div",{className:"displayFlex"},s.a.createElement("div",{className:"disp-div-requestor"},s.a.createElement("div",null,s.a.createElement("img",{src:this.state.userImageDataList.filter((function(t){return t.email_id===e.email_id})).length>0?this.state.userImageDataList.filter((function(t){return t.email_id===e.email_id}))[0].image_data:Je.a,className:"disp-div-photo",alt:this.state.userImageDataList.filter((function(t){return t.email_id===e.email_id})).length>0?this.state.userImageDataList.filter((function(t){return t.email_id===e.email_id}))[0].image_data:Je.a})),s.a.createElement(L.b,{className:"fontSmall",to:{pathname:"/player/".concat(e.email_id),state:{userEmail:this.state.userEmail}}},e.requestor)),s.a.createElement("div",{className:"nav-link"},s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"9",className:"disp-div-row-col title"},e.title),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col textAlignRight"},this.dateConvert(e.created))),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"9",className:"disp-div-row-col sportType"},e.sport_type?e.sport_type:"No sport selected"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Status:")," ",e.request_status?e.request_status:"N/A")),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{xs:"6",className:"disp-div-row-col"},s.a.createElement("i",null,"Venue:")," ",e.address?e.address:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Date:")," ",e.date?e.date:"N/A"),s.a.createElement(Y.a,{xs:"3",className:"disp-div-row-col"},s.a.createElement("i",null,"Time:")," ",e.time?e.time:"N/A")),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col"},s.a.createElement("i",null,"Description:")," ",e.description?e.description:"N/A")),this.state.showEditRequest?s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col"},s.a.createElement("button",{className:"transparentButton",onClick:this.setEditRequestModalData.bind(this,e.id,e.title,e.description,e.request_status,e.sport_type,e.address,e.date,e.time,e.match_id)},"Edit")," ",s.a.createElement("button",{className:"transparentButton",onClick:this.setDeleteRequestModalData.bind(this,e.id,e.title,e.description,e.request_status,e.sport_type,e.address,e.date,e.time,e.match_id)},"Delete"))):null)),s.a.createElement(W.a,{className:"disp-div-row"},s.a.createElement(Y.a,{className:"disp-div-row-col"},s.a.createElement(Q.a,{id:"formId"},s.a.createElement(Z.a,null,s.a.createElement($.a,{for:"commentId"},"Comment"),s.a.createElement("div",{className:"dispFlex comments"},s.a.createElement(K.a,{type:"textarea",name:"comment",id:"commentId",placeholder:"Comment",onKeyDown:this.handleKeyDown,onChange:this.handleOnChange}),s.a.createElement(J.a,{color:"primary",size:"sm",onClick:this.addCommentFunc.bind(this,e.id)},"Save"),s.a.createElement(J.a,{type:"reset",color:"secondary",size:"sm"},"Reset")))))))}},{key:"displayComment",value:function(e){var t=this;return e.map((function(e){var a="input"+e.id,l="div"+e.id,n="divAction"+e.id;return s.a.createElement("div",{key:e.id},s.a.createElement("div",{className:"disp-comment"},s.a.createElement("div",{className:"disp-div-comment"},s.a.createElement("div",{className:"displayFlex"},s.a.createElement("div",{className:"commentRequestor"},s.a.createElement(L.b,{className:"fontSmall",to:{pathname:"/player/".concat(e.email_id),state:{userEmail:t.state.userEmail}}},e.full_name)),s.a.createElement("div",{className:"commentDate"},t.dateConvert(e.created))),s.a.createElement("input",{type:"text",id:a,className:"displayNone editCommentInput",name:"editCommentLine",value:e.comment,onChange:function(e){var a=t.state.modalDataComment;a.comment=e.target.value,t.setState({modalDataComment:a})}}),s.a.createElement("div",{id:l,className:"displayBlock",onChange:function(e){var a=t.state.modalDataComment;a.comment=e.target.value,t.setState({modalDataComment:a})}},e.comment),s.a.createElement("div",{id:n,className:"displayNone"},s.a.createElement("button",{onClick:t.updateComment.bind(t),className:"transparentButton ml-1 fontSmall"},"Save")," ","|",s.a.createElement("button",{onClick:t.cancelEditComment.bind(t,e),className:"transparentButton ml-1 fontSmall"},"Cancel"))),t.state.userEmail.toLowerCase()===e.email_id||t.state.showEditComment?s.a.createElement("div",{className:"disp-div-action"},s.a.createElement("button",{id:"editCmntBtnId",onClick:t.setEditCommentModalData.bind(t,e),className:"transparentButton ml-2 fontSmall"},"Edit"),s.a.createElement("button",{onClick:t.setDeleteCommentModalData.bind(t,e),className:"transparentButton ml-2 fontSmall"},"Delete")):null))}))}},{key:"componentDidMount",value:function(){var e=this;this.state.userEmail.toLowerCase()===this.state.requestData[0].email_id.toLowerCase()&&this.setState({showEditRequest:!0}),"admin@myemail.com"===this.state.userEmail.toLowerCase()&&this.setState({showEditRequest:!0,showEditComment:!0}),T.a.get("/api/get/requestcommentlist").then((function(t){e.setState({commentList:t.data,comments:t.data.filter((function(t){return t.request_id===e.state.requestData[0].id}))})})),T.a.get("/api/get/requesttemplatelist").then((function(t){e.setState({requestTemplateList:t.data})})),T.a.get("/api/get/sporttypelist").then((function(t){e.setState({sportTypeList:t.data})})),T.a.get("/api/get/requeststatuslist").then((function(t){e.setState({requestStatusList:t.data})})),T.a.get("/api/get/allmatches",{withCredentials:!0}).then((function(t){e.setState({matchList:t.data})})),T.a.get("/api/get/images3/").then((function(t){e.setState({userImageDataList:t.data})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},this.editRequestModal(),this.deleteRequestModal(),this.deleteCommentModal(),s.a.createElement("h1",{className:"pageHead"},this.state.header),s.a.createElement(this.alrt,null),this.displayRequest(this.state.requestData[0]),s.a.createElement("div",{className:"disp-div"},s.a.createElement("p",null,"Comments:"),this.displayComment(this.state.comments))))}}]),t}(l.Component),Xe=Object(h.g)(Ge),We=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={header:"Request Details",userEmail:a.props.location.state.userEmail,requestId:a.props.match.params.id,requestData:a.props.location.state.requestData,msg:a.props.location.state.msg,comment:a.props.location.state.comment,user:a.props.location.state.user,requestTemplateList:a.props.location.state.requestTemplateList,sportTypeList:a.props.location.state.sportTypeList,matchList:a.props.location.state.matchList},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"pageTop"},s.a.createElement(H,{userEmail:this.state.userEmail}),s.a.createElement(Xe,{header:this.state.header,userEmail:this.state.userEmail,requestId:this.state.requestId,requestData:this.state.requestData,msg:this.state.msg,comment:this.state.comment,user:this.state.user}),s.a.createElement("a",{href:"#pageTop"},s.a.createElement("div",{className:"topBtn"},"Top")),s.a.createElement(z,null))}}]),t}(l.Component),Ye=Object(h.g)(We),et=function(e){function t(){var e,a;Object(m.a)(this,t);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("h1",null,"Page not found. Please reach out to Sujoy at sujoychakraborty93@gmail.com")}}]),t}(l.Component);function tt(e){var t=e.children,a=Object(r.a)(e,["children"]);return s.a.createElement(h.b,Object.assign({},a,{render:function(e){var a=e.location;return"true"===sessionStorage.getItem("loggedIn")?t:s.a.createElement(h.a,{to:{pathname:"/login",state:{from:a}}})}}))}var at=function(){return s.a.createElement("div",null,s.a.createElement(L.a,null,s.a.createElement(h.d,null,s.a.createElement(h.b,{path:"/",exact:!0,component:xe}),s.a.createElement(h.b,{path:"/login",component:xe}),s.a.createElement(h.b,{path:"/register",component:Ve}),s.a.createElement(h.b,{path:"/forgotPassword",component:Ue}),s.a.createElement(tt,{path:"/home"},s.a.createElement(he,null)),s.a.createElement(h.b,{path:"/house",component:pe}),s.a.createElement(tt,{path:"/allMatchSchedule"},s.a.createElement(Me,null)),s.a.createElement(tt,{path:"/myTeamSchedule"},s.a.createElement(be,null)),s.a.createElement(tt,{path:"/teamsList"},s.a.createElement(Ie,null)),s.a.createElement(tt,{path:"/venuesList"},s.a.createElement(Pe,null)),s.a.createElement(tt,{path:"/umpiresList"},s.a.createElement(je,null)),s.a.createElement(tt,{path:"/playersList"},s.a.createElement(_e,null)),s.a.createElement(tt,{path:"/player/:playerEmailId?"},s.a.createElement(_e,null)),s.a.createElement(tt,{path:"/requestOverview"},s.a.createElement(de,null)),s.a.createElement(tt,{path:"/allRequest"},s.a.createElement(ze,null)),s.a.createElement(tt,{path:"/myRequest"},s.a.createElement(Qe,null)),s.a.createElement(tt,{path:"/submitRequest"},s.a.createElement($e,null)),s.a.createElement(tt,{path:"/request/:id?"},s.a.createElement(Ye,null)),s.a.createElement(h.b,{component:et}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=a(38),st=Object(lt.b)({allRequests:ae,allMatches:le}),nt=Object(lt.c)(st);i.a.render(s.a.createElement(se.a,{store:nt},s.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){e.exports=a.p+"static/media/GC.7e476855.jpg"},62:function(e,t,a){e.exports=a.p+"static/media/00_default_image.7eb07ee1.jpg"},80:function(e,t,a){e.exports=a.p+"static/media/ball33.d6514b89.png"},92:function(e,t,a){e.exports=a(138)},99:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.629769c8.chunk.js.map